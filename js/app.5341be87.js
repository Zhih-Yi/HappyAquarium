(function(t){function a(a){for(var e,r,n=a[0],c=a[1],l=a[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,a=0;a<o.length;a++){for(var s=o[a],e=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(e=!1)}e&&(o.splice(a--,1),t=r(r.s=s[0]))}return t}var e={},i={app:0},o=[];function r(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,a,s){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)r.d(s,e,function(a){return t[a]}.bind(null,e));return s},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/HappyAquarium/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,a,s){t.exports=s("56d7")},"067e":function(t){t.exports=JSON.parse('[{"title":"S級紅白白軀水晶蝦","image":"https://cdn.pixabay.com/photo/2019/07/15/01/18/red-4338399__340.jpg","price":"80","finalPrice":"60","link":"-MWrrSbIjtdDxHmLTgUt"},{"title":"鮮蝦食譜:孔雀&卵胎生魚","image":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618056684517.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=AqYoCoU79eek8Pdvu1XKLlUEnAMMvJejsiUPYvQijxPRS8gWMY4C2aDjacqqwxjKzIaHbWCPbdsXxxCgxqw%2BZFVMxCxQuTdtpOCNIowQXln341qaFFYXGTADQi%2B6cdhjZBkEH9QPCDpee8882kZy7v%2FpDz%2BiIXxchsIn0KZjsiu32lIC2DRRa9476xrFG5721CXzIHtnu5rlO%2ByFiD4qTFRAOdu0WLHYiz1UMGYgK7jmW6M8Mcvmc58OFlj57wAwpnkleb93IdYdHTgNutlnE9kP4OXkaVZNfPJ887TPZ6l57opf1ZmZ5TPiMAza7I98uTvb8mbPUYoBDlgr4ByhRw%3D%3D","price":"250","finalPrice":"200","link":"-MXv11wuXGX3Xt5D_TT4"},{"title":"霓虹精靈孔雀","image":"https://cdn.pixabay.com/photo/2019/08/30/01/24/water-tank-4440190__340.jpg","price":"100","finalPrice":"90","link":"-MWrqYAvAWuJFa0fUA7Z"}]')},"2d32":function(t,a,s){},"400e":function(t){t.exports=JSON.parse('[{"title":"莫斯","image":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618065440125.PNG?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=THYCc8Vfql4F%2BOoAPIES9Equ4CC4iDhZRBsP%2BX8DCvzSFnqXYK2gxMfYSaNyOkuD3N9AxX4WXHdTwwyiy7A%2FAnCBoeL50p9qyXcnGJ113I%2FSD4TRO1dkP%2BEnH9HgDdAFwjM8b1LVZzMzdXRq6t3ikfzbov46vQKY5BZMknwXSd0UCd4zcSmc0ySSDWZ%2Fnv33OFOBhLydcmH%2BvfKoouYuzdaIp2%2FzuHfPmcJsetxq0uha4DYhLfOSmNOfTxLUbKCubGjNTy8HCyO2UphU637vukbmUuNDs65CrGGzdj%2Ffgu8p%2Fztz0r8HSgVDFXJUpx0VxsG1Ig%2Bc9HjQx7DKWdZxtw%3D%3D","price":"80","finalPrice":"50","link":"-MXwDONL4HFRqnddwZGr"},{"title":"KOTOBUKI外掛式濾水器","image":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618057831049.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=P47bw3oHQ%2FNMH8%2BRDsypsTwxA34XKd02r%2F5vsYohZIP7gPxpMO%2FHRl%2F6sbTUTo5UQebtHr8fXuZ2iEuzd1hT6SKRfIxLPmb8MtyVVEiQoUZysiaI%2B8LokEx6UCEaqgxiK5zykeCecs8kSLBi0WCfiqVgd2rBUEgowrqhx7rETr6Fae7NzAjxMBk6HMztfro5Rjx66np0MhfEZvyKnUdHqFo2GJgNOsDLK9zKIE19aWDDcfkGLpxpjTf8dsAfqTV19gNaSXBdI07iYvTDD7YhHIKyTBAxh%2FVVG1BInCSEa57ZoxP8dFyWHnoagqGC00DEQ4g2Nq%2BSWiYk4KJMMO0XIQ%3D%3D","price":"780","finalPrice":"700","link":"-MXv11ztSPDUEG7yXnvb"},{"title":"紅蓮燈","image":"https://cdn.pixabay.com/photo/2019/09/04/01/06/aquarium-4450489_960_720.jpg","price":"30","finalPrice":"25","link":"-MWroof4JnypBDXA9g-O"}]')},4678:function(t,a,s){var e={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var a=o(t);return s(a)}function o(t){if(!s.o(e,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e[t]}i.keys=function(){return Object.keys(e)},i.resolve=o,t.exports=i,i.id="4678"},"56d7":function(t,a,s){"use strict";s.r(a);var e=s("5530"),i=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("159b"),s("b64b"),s("4de4"),s("2b0e")),o=s("2f62"),r=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"alert-message"},t._l(t.messages,(function(a,e){return s("div",{key:e,staticClass:"alert fade alert-alert show",class:"alert-"+a.status,attrs:{role:"alert"}},[t._v(" "+t._s(a.message)+" "),s("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(e)}}})])})),0)},l=[],d={name:"Alert",data:function(){return{}},computed:Object(e["a"])({},Object(o["b"])(["messages"])),methods:{updateMessage:function(t,a){this.$store.dispatch("updateMessage",{message:t,status:a})},removeMessage:function(t){this.$store.dispatch("removeMessage",t)},removeMessageWithTiming:function(t){this.$store.dispatch("removeMessageWithTiming",t)}}},u=d,p=(s("7d6d"),s("2877")),m=Object(p["a"])(u,c,l,!1,null,null,null),f=m.exports,h={components:{Alert:f}},v=h,g=(s("5c0b"),Object(p["a"])(v,r,n,!1,null,null,null)),b=g.exports,C=s("8c4f"),_=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home"},[s("Navbar"),s("Alert"),s("router-view"),s("ScrollToTop"),t._m(0)],1)},y=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"footer bg-light bg-gradient py-5"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row "},[s("div",{staticClass:"col-lg-9 col-md-8"},[s("p",{staticClass:"display-6"},[s("i",{staticClass:"fas fa-fish text-primary me-2"}),s("strong",{staticClass:"text-info "},[t._v("快樂水族")])]),s("ul",{staticClass:"d-flex list-unstyled"},[s("li",{staticClass:"me-3"},[s("a",{staticClass:"icon-link",attrs:{href:"#"}},[s("i",{staticClass:"fab fa-line fa-2x "})])]),s("li",{staticClass:"me-3"},[s("a",{staticClass:"icon-link",attrs:{href:"#"}},[s("i",{staticClass:"fab fa-facebook-square fa-2x"})])]),s("li",[s("a",{staticClass:"icon-link",attrs:{href:"#"}},[s("i",{staticClass:"fab fa-instagram fa-2x"})])])])]),s("div",{staticClass:"col-lg-3 col-md-4"},[s("p",{staticClass:"h4 text-info"},[t._v("聯絡方式")]),s("ul",{staticClass:"list-unstyled"},[s("li",[s("a",{staticClass:"contact-link",attrs:{href:"mailto:example@gmail.com"}},[s("i",{staticClass:"fas fa-envelope me-2"}),t._v("example@gmail.com")])]),s("li",[s("a",{staticClass:"contact-link",attrs:{href:"tel:+886886886"}},[s("i",{staticClass:"fas fa-phone-volume me-2"}),t._v("+886-886-886")])]),s("li",{staticClass:"contact-link"},[s("i",{staticClass:"fas fa-home mr-2"}),t._v("高雄市中正五路到底")])])])])])])}],x=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:"navbar navbar-main navbar-expand-md bg-gradient navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},[s("div",{staticClass:"container-fluid"},[t._m(0),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-fish text-primary me-2 fa-lg"}),s("strong",{staticClass:"text-info"},[t._v("快樂水族")])]),s("shoppingCart"),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarContent"}},[s("ul",{staticClass:"navbar-nav ms-auto mb-2 mb-md-0"},[s("li",{staticClass:"nav-item me-3"},[s("router-link",{staticClass:"nav-link pb-0",attrs:{to:"/","exact-active-class":"active"}},[t._v("首頁")])],1),s("li",{staticClass:"nav-item me-3"},[s("router-link",{staticClass:"nav-link  pb-0",attrs:{to:"/product","exact-active-class":"active"}},[t._v("商品")])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:!1===t.loginStatus,expression:"loginStatus===false"}],staticClass:"nav-item me-3"},[s("router-link",{staticClass:"nav-link  pb-0",attrs:{to:"/login","exact-active-class":"active"}},[t._v("登入")])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:!0===t.loginStatus,expression:"loginStatus===true"}],staticClass:"nav-item me-3 "},[s("a",{staticClass:"nav-link  pb-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出")])])])])],1)])])},k=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-bars"})])}],w=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:" d-flex align-items-center order-md-1"},[s("a",{staticClass:"cart nav-link",on:{click:function(a){a.preventDefault(),t.cartVisible=!t.cartVisible}}},[s("i",{staticClass:"fa-lg fas fa-shopping-cart fa-lg"}),s("span",{staticClass:"cart-num badge rounded-pill bg-alert text-white"},[s("small",[t._v(t._s(t.cartObjLength))])])]),s("transition",{attrs:{name:"slide"}},[!0===t.cartVisible?s("div",{staticClass:"cart-content bg-light rounded  py-2 px-2"},[s("form",{},[t.cartObjLength>0?s("table",{staticClass:"table table-sm table-striped"},[s("thead",[s("tr",[s("td"),s("td",[t._v("品名")]),s("td",[t._v("數量")]),s("td",[t._v("單價")])])]),s("tbody",t._l(t.cart,(function(a){return s("tr",{key:a.id},[s("td",[!0===t.checkoutVisible?s("button",{staticClass:"btn py-0 text-alert",on:{click:function(s){return t.deleteCartItem(a.id)}}},[s("i",{staticClass:"fas fa-trash-alt fa-sm"})]):t._e()]),s("td",[t._v(" "+t._s(a.product.title)+" ")]),s("td",{staticClass:"text-end"},[t._v(t._s(a.qty))]),s("td",{staticClass:"text-end"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),0)]):t._e(),s("div",{staticClass:"fix-footer bg-light"},[t.cartObjLength>0?s("div",{staticClass:"d-flex justify-content-end py-2 border-top"},[s("div",{staticClass:"me-4"},[t._v("總計")]),s("div",[t._v(t._s(t._f("currency")(t.finalTotal)))])]):t._e(),t.cartObjLength&&!0===t.checkoutVisible?s("a",{staticClass:"nav-link btn btn-block btn-primary mx-3 mb-2 text-third",on:{click:t.toCheckout}},[t._v(" 結帳去"),s("i",{staticClass:"fas fa-shopping-bag ms-2"})]):t._e()]),0===t.cartObjLength?s("div",{staticClass:"px-2 py-2"},[s("router-link",{attrs:{to:"/product"}},[t._v("來去逛逛"),s("i",{staticClass:"fas fa-angle-double-right"})])],1):t._e()])]):t._e()])],1)},j=[],M={name:"shoppingCart",data:function(){return{cartVisible:!1,coupon_code:""}},computed:Object(e["a"])({},Object(o["b"])(["cart","cartObjLength","cartObjTotal","finalTotal","checkoutVisible"])),created:function(){this.$store.dispatch("getCart")},methods:{deleteCartItem:function(t){this.$store.dispatch("deleteCartItem",t)},toCheckout:function(){this.cartVisible=!1,this.$router.push("/checkoutCoupon")}}},O=M,P=Object(p["a"])(O,w,j,!1,null,null,null),D=P.exports,$={name:"navbar",props:["loginstatus"],components:{shoppingCart:D},data:function(){return{isOpen:!1}},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),a=this;this.$http.post(t).then((function(t){t.data.success&&(a.$store.dispatch("getLoginStatus",!1),a.$router.push("/login"))}))}},computed:Object(e["a"])({},Object(o["b"])(["loginStatus"]))},E=$,T=Object(p["a"])(E,x,k,!1,null,null,null),L=T.exports,S=function(){var t=this,a=t.$createElement,s=t._self._c||a;return!0===t.visble?s("div",{staticClass:"topTop text-primary"},[t._m(0)]):t._e()},A=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{attrs:{href:"#top"}},[s("i",{staticClass:"fas fa-chevron-circle-up"})])}],Y={name:"scrollToTop",data:function(){return{visble:!1}},methods:{handleScroll:function(){var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;this.visble=t>20}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},I=Y,N=Object(p["a"])(I,S,A,!1,null,null,null),q=N.exports,B={name:"Home",components:{Navbar:L,Alert:f,ScrollToTop:q}},F=B,z=Object(p["a"])(F,_,y,!1,null,null,null),G=z.exports,V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("div",{staticClass:"dot-loader"},[e("span",{staticClass:"dot dot1 bg-use"}),e("span",{staticClass:"dot dot2 bg-abstract"}),e("span",{staticClass:"dot dot3 bg-warning"}),e("span",{staticClass:"dot dot4 bg-alert"})]),e("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),e("div",{staticClass:"dot-loader"},[e("span",{staticClass:"dot dot5 bg-use"}),e("span",{staticClass:"dot dot6 bg-abstract"}),e("span",{staticClass:"dot dot7 bg-warning"}),e("span",{staticClass:"dot dot8 bg-alert"})])]),e("Carousel"),e("div",{staticClass:"container-fluid pt-5"},[e("HeaderTitle",{attrs:{title:"新品到貨",icon:"fas fa-shipping-fast"}}),e("CardGroup",{attrs:{product:t.newProduct}})],1),e("div",{staticClass:"container-fluid pt-5"},[e("HeaderTitle",{attrs:{title:"分類導覽",icon:"fas fa-th-large"}}),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-10 "},[e("div",{staticClass:"row g-0"},[e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/水草"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1519657635301-68bb60c798f7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1492&q=80')"}},[e("div",{staticClass:"layer text-third"},[t._v("水草")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/觀賞魚"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1520301255226-bf5f144451c1?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTF8fGZpc2glMjB0YW5rfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[e("div",{staticClass:"layer text-third"},[t._v("觀賞魚")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/觀賞蝦"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://media.istockphoto.com/photos/pregnant-red-bee-dwarf-shrimp-look-for-food-in-fresh-water-aquarium-picture-id1223017973?b=1&k=6&m=1223017973&s=170667a&w=0&h=6GJFkuUZSQwqifCsP6kzePzUFknLQ_NYmJb96xj1WrU=')"}},[e("div",{staticClass:"layer text-third"},[t._v("觀賞蝦")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/觀賞螺"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618049072705.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Qy2dJ5xCecNJfixqdURpCCH5JZdlNJPd5uEPGy4ylNVHxSiQ0iyloCnakhJGwHOxokLIyIep7vbIxOxpu1AxNMiVX00n2foi3F4cBmLMY40McdLrpC1EotwjlmJjpLTjTzgk0sWW0NgVuJNHx7dVyPjEqOTwaD2cRKWxsbROamhXQkyej7X1Sgv18WqBOc3VMMqeqAgjvQymrcGaaaWCMGF7CJANpI613S4Brfvs4UAzTLXf787%2BwVEJIVk8XHPDXw1B%2FDA4d4lIUfEYlN%2BEoL31SL5y9zUMr1Zs2SCEKI0%2Bgu5atzF3zKMVyATeC0JPnROr47msxDb%2FJsf6w%2Frwng%3D%3D')"}},[e("div",{staticClass:"layer text-third"},[t._v("觀賞螺")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/飼料"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618056605362.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=p36q3ePk9g3uyQvfH3UG8TJyvkf6u1mNTjRue5McmGrIUxpDYmrZakatT7TJlocryPSqz78TB6sAbsRRMdc4hxNjkTXW41M4VG3TeM8RhXq93SkKQwheenLWZ17WZ8FG6zzeGfhTNKSfx%2BfzkOa%2B9hHIiTbuuXfZUUIgUF8p6KeKmwMvmquDKSPgwokX%2BuOxRyu2hQz7kNNgLQAG4%2BAkxU7k0ha57wwbXPNQjert4ffWtGx1WUxXEHL1yE0eaW%2FUgs8uTIvEqSJuKhfuKPfTCkV4U97xE5RarW0Wbm%2Fwfut3xYr9VG%2Feqj0ZXhNyXD%2F1BkmkoSa0tTKw0xvFYbudGQ%3D%3D')"}},[e("div",{staticClass:"layer text-third"},[t._v("飼料")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/水質控制"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618064180440.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Jl%2FgVXYgzNUg8D4kBwXfj7wXw6PwdwqC4WSWPL%2FIZwen5BiDPIFzSRHEdhaW8hhqV4tO3UDwQDH21NJNxQwUETtpiVNvI2TD5n9FnVfYjtiqmdMJ5AlQ9ZnsP9rAoV54GLdwXwrLARNl4Viu7jAUBIXQIV0OFSQ3RtVsfU9gEhMy%2BYOjqvnqG2swf0bSMTi9kFbx5wiz0gyRKGhGx18PY7u7Xf4GgrVyPzHb%2FekDF34lit7PI%2F0HKnBZkxzeAg5GQ0Buca9D9%2FSwjr%2BlTN1vO%2BbnXlD861tAMP9XD8%2BB7jcspvEJ8KSKgXNQjhQzNu3m2tyPe5AcuettjmjoSe08bA%3D%3D')"}},[e("div",{staticClass:"layer text-third"},[t._v("水質控制")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/水族用品"}},[e("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618061010167.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=qCz1zqyljSaJiZVo%2B0WEX31fJaPNTZieIOP%2BKKONaVw%2BVi%2F5ayXt4lbxBWry2B7bQvF%2F5J3cLdRdL%2FPeJJNQrP%2FrLCUOWHKjkTAQoWR8OoaipNy3mJdHjJRKjtRnXlcwvwFhWNj%2FMd408YYCgmH0AQaO%2BrrkSGJ%2FfQO3HjPKT%2BJip%2FOfeT9CybsVXKdbyShuxyMkqdHEIrwQGE67XzVHWIWMY14CorbWneVN2LGrgDugRi839RIbuszuPpa4K%2BJoH%2BUwqgAoGDa0IawnEKkuzjzSnraIdxVOQtOqg1DO8uTL34RJblf2Fw5ViNOSmiI00Jb8szRRR103kvxdasOgiQ%3D%3D')"}},[e("div",{staticClass:"layer text-third"},[t._v("水族用品")])])])],1),e("div",{staticClass:"col-6 col-sm-3"},[e("router-link",{attrs:{to:"/product/水草肥料"}},[e("div",{staticClass:"menu-item text-center bg-cover",style:{backgroundImage:"url("+s("7197")+")"}},[e("div",{staticClass:"layer text-third"},[t._v("水草肥料")])])])],1)])])])],1),e("div",{staticClass:"container-fluid pt-5"},[e("HeaderTitle",{attrs:{title:"熱門商品",icon:"fas fa-fire"}}),e("CardGroup",{attrs:{product:t.hotProduct}})],1)],1)},U=[],K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"carousel slide",attrs:{id:"carouselCaptions","data-bs-ride":"carousel"}},[t._m(0),e("div",{staticClass:"carousel-inner"},[e("div",{staticClass:"carousel-item active"},[e("div",{staticClass:"header-carousel-item bg-cover",style:{backgroundImage:"url("+s("e192")+")"}},[e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h2",{staticClass:"mt-3 mb-5 display-4"},[t._v("專業。優惠。高品質。")]),e("p",{staticClass:"h3"},[e("span",{staticClass:"d-none d-sm-inline-block"},[t._v("各式水族精選商品就在快樂水族")]),e("router-link",{staticClass:"ms-3 btn btn-navblue text-white",attrs:{tag:"button",to:"/product","exact-active-class":"active"}},[t._v("去逛逛 "),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1)])])]),e("div",{staticClass:"carousel-item"},[e("div",{staticClass:" header-carousel-item bg-cover",staticStyle:{"background-image":"url('https://cdn.pixabay.com/photo/2015/09/28/11/40/fish-961953__340.jpg')"}},[e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h2",{staticClass:"mt-3 mb-5 display-4"},[t._v("雙11優惠季")]),e("p",{staticClass:"h3"},[e("span",{staticClass:"d-none d-sm-inline-block"},[t._v("11/1~11/30 全館8折")]),e("router-link",{staticClass:"ms-3 btn btn-navblue text-white",attrs:{tag:"button",to:"/product","exact-active-class":"active"}},[t._v("去逛逛 "),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1)])])]),e("div",{staticClass:"carousel-item"},[e("div",{staticClass:"header-carousel-item bg-cover",style:{backgroundImage:"url("+s("5c3f")+")"},attrs:{alt:"heater"}},[e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h2",{staticClass:"mt-3 mb-5 display-4"},[t._v("給您的魚兒暖暖的冬天")]),e("p",{staticClass:"h3"},[e("span",{staticClass:"d-none d-sm-inline-block"},[t._v("水族加溫設備滿700送50")]),e("router-link",{staticClass:"ms-3 btn btn-navblue text-white",attrs:{tag:"button",to:"/product","exact-active-class":"active"}},[t._v("去逛逛 "),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1)])])])]),t._m(1),t._m(2)])])])},H=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"carousel-indicators"},[s("button",{staticClass:"active",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"0","aria-current":"true","aria-label":"Slide 1"}}),s("button",{attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}}),s("button",{attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"carousel-control-prev",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"visually-hidden"},[t._v("Previous")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"carousel-control-next",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"visually-hidden"},[t._v("Next")])])}],R={name:"carousel"},W=R,X=Object(p["a"])(W,K,H,!1,null,null,null),J=X.exports,Q=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("h2",{staticClass:"text-center text-third text-shadow"},[s("strong",[t._v(t._s(t.title))]),s("i",{staticClass:"ms-3",class:t.icon})])])},Z=[],tt={name:"headerTitle",props:["title","icon"]},at=tt,st=Object(p["a"])(at,Q,Z,!1,null,null,null),et=st.exports,it=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"row pt-3 justify-content-center"},[s("div",{staticClass:"col-md-10"},[s("div",{staticClass:"row"},t._l(t.product,(function(a){return s("div",{key:a.title,staticClass:"col-md-4"},[s("router-link",{attrs:{to:"/content/"+a.link}},[s("div",{staticClass:"card bg-light h-100"},[s("div",{staticClass:"card-img-wrapper"},[s("img",{staticClass:"card-img card-img-size",attrs:{src:a.image,alt:a.title}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title  text-third"},[s("strong",[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex justify-content-between"},[s("span",{staticClass:"text-decoration-line-through text-third "},[s("small",[t._v("NT $"+t._s(a.price))])]),s("strong",{staticClass:"text-alert"},[t._v("NT $"+t._s(a.finalPrice)+" ")])])]),s("div",{staticClass:"card-footer border-0 bg-light"},[s("button",{staticClass:"my-2 btn btn-block btn-primary w-100 text-third",on:{click:function(s){return s.preventDefault(),t.AddCart(a.link)}}},[t._v(" 加入購物車"),s("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===a.link?s("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)})),0),s("div",{staticClass:"row text-end py-2 d-flex align-items-center"},[s("router-link",{staticClass:"text-info link-shop",attrs:{to:"/product","exact-active-class":"active"}},[s("strong",{staticClass:"h5"},[t._v("去逛逛")]),s("i",{staticClass:"fas fa-angle-double-right ms-2 "})])],1)])])])},ot=[],rt={name:"cardGroup",props:["product"],data:function(){return{}},methods:{AddCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddtoCart",{id:t,qty:a})}},computed:{loadingItem:function(){return this.$store.state.status.loadingItem}}},nt=rt,ct=Object(p["a"])(nt,it,ot,!1,null,null,null),lt=ct.exports,dt=s("067e"),ut=s("400e"),pt={name:"Index",components:{Carousel:J,HeaderTitle:et,CardGroup:lt},data:function(){return{newProduct:dt,hotProduct:ut}},computed:Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible"])),created:function(){this.$store.dispatch("updateCheckoutBtn",!0)}},mt=pt,ft=Object(p["a"])(mt,V,U,!1,null,null,null),ht=ft.exports,vt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"container-fluid py-5"},[s("div",{staticClass:"row justify-content-end"},[s("form",{staticClass:"col-md-3",attrs:{action:""}},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"商品快速搜尋"},domProps:{value:t.searchText},on:{input:function(a){a.target.composing||(t.searchText=a.target.value)}}}),s("button",{staticClass:"btn btn-primary",on:{click:function(a){a.preventDefault(),t.isSearch=!0,t.selectKind="",t.currentPage=0}}},[s("i",{staticClass:"fas fa-search text-third"})])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"list-group rounded-0 rounded-bottom mb-3 mx-2"},[s("div",{staticClass:"row "},[t._m(0),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"所有商品"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="所有商品",t.currentPage=0}}},[s("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("所有商品")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"水草"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水草",t.currentPage=0}}},[s("i",{staticClass:"fas fa-seedling me-2 ps-3"}),t._v(" 水草")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"觀賞魚"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞魚",t.currentPage=0}}},[s("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v(" 觀賞魚")]),s("a",{staticClass:"list-group-item col-md-12  col-sm-4 col-4",class:{active:"觀賞蝦"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞蝦",t.currentPage=0}}},[s("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("觀賞蝦")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"觀賞螺"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞螺",t.currentPage=0}}},[s("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("觀賞螺")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"飼料"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="飼料",t.currentPage=0}}},[s("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v(" 飼料")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"水質控制"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水質控制",t.currentPage=0}}},[s("i",{staticClass:"fas fa-tint me-2 ps-3"}),t._v(" 水質控制")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"水族用品"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水族用品",t.currentPage=0}}},[s("i",{staticClass:"fas fa-tint me-2 ps-3"}),t._v("水族用品")]),s("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-4",class:{active:"水草肥料"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水草肥料",t.currentPage=0}}},[s("i",{staticClass:"fas fa-seedling  me-2 ps-3"}),t._v("水草肥料")])])])]),s("div",{staticClass:"col-md-9"},[s("Product",{attrs:{product:t.filterData[t.currentPage]}}),s("nav",{staticClass:"my-3",attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination justify-content-center"},t._l(t.filterData.length,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.currentPage===a-1}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.currentPage=a-1}}},[t._v(t._s(a))])])})),0)])],1)])])],1)},gt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",{staticClass:"col-md-12  py-3 bg-light br-gradient border border-2 text-third mb-0 text-center rounded-top"},[s("strong",[t._v("商品類別"),s("i",{staticClass:"fas fa-frog ms-2"})])])}],bt=(s("99af"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"row "},t._l(t.product,(function(a){return s("div",{key:a.id,staticClass:"col-md-6 mb-4"},[s("router-link",{attrs:{to:"/content/"+a.id}},[s("div",{staticClass:"card bg-light h-100"},[s("div",{staticClass:"card-img-wrapper"},[s("img",{staticClass:"card-img card-img-size",attrs:{src:a.imageUrl,alt:a.title}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title  text-third"},[s("strong",[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex justify-content-between"},[s("span",{staticClass:"text-decoration-line-through text-third "},[s("small",[t._v(t._s(t._f("currency")(a.origin_price)))])]),s("strong",{staticClass:"text-alert"},[t._v("NT "+t._s(t._f("currency")(a.price))+" ")])])]),s("div",{staticClass:"card-footer border-0 bg-light"},[s("button",{staticClass:"my-2 btn btn-block btn-primary w-100 text-third",on:{click:function(s){return s.preventDefault(),t.addToCart(a.id)}}},[t._v(" 加入購物車"),s("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)})),0)])}),Ct=[],_t={name:"productCard",props:["product"],methods:{addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddtoCart",{id:t,qty:a})}},computed:{loadingItem:function(){return this.$store.state.status.loadingItem}}},yt=_t,xt=Object(p["a"])(yt,bt,Ct,!1,null,null,null),kt=xt.exports,wt={name:"product",components:{Product:kt},data:function(){return{products:[],selectKind:"所有商品",isSearch:!1,searchText:"",currentPage:0}},methods:{getProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/products/all"),a=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(t).then((function(t){t.data.success?a.products=t.data.products:a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}},computed:Object(e["a"])({filterData:function(){var t=this,a=[];""===t.selectKind&&!1===t.isSearch||"所有商品"===t.selectKind||""===t.searchText&&!0===t.isSearch?a=t.products:!0===this.isSearch?(a=t.products.filter((function(a,s){return a.title.indexOf(t.searchText)>-1})),t.isSearch=!1,t.searchText=""):a=t.products.filter((function(a,s){return a.category===t.selectKind}));var s=[];return a.forEach((function(t,a){a%6===0&&s.push([]);var e=parseInt(a/6);s[e].push(t)})),s}},Object(o["b"])(["isLoading","checkoutVisible"])),created:function(){var t=this.$route.params.kind;t&&(this.selectKind=t),this.getProduct(),this.$store.dispatch("updateCheckoutBtn",!0)}},jt=wt,Mt=Object(p["a"])(jt,vt,gt,!1,null,null,null),Ot=Mt.exports,Pt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center align-items-center"},[s("div",{staticClass:"col-md-6"},[s("form",{staticClass:"py-5",on:{submit:t.signin}},[t._m(0),s("h1",{staticClass:"h3 mb-3 fw-bold text-center text-third"},[t._v("管理員登入")]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput"},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),s("label",{attrs:{for:"floatingInput"}},[t._v("電子郵件")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",autocomplete:"on"},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("密碼")])]),s("button",{staticClass:"w-100 btn btn-lg btn-primary text-third fw-bold",attrs:{type:"submit"}},[t._v("登入")])])])])])],1)},Dt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"text-center py-3"},[s("div",{staticClass:"dot-group"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-group"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])])}],$t={name:"login",data:function(){return{user:{username:"",password:""}}},computed:Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible"])),methods:{signin:function(){var t="".concat("https://vue-course-api.hexschool.io","/admin/signin"),a=this;this.$store.dispatch("updatedLoading",!0),this.$http.post(t,a.user).then((function(t){if(t.data.success){var s=t.data.token,e=t.data.expired;document.cookie="hexToken=".concat(s,";expires=").concat(new Date(e),";"),a.$store.dispatch("updatedLoading",!1),a.$store.dispatch("getLoginStatus",!0),a.$router.push("/admin/dashboard")}else a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.$store.dispatch("getLoginStatus",!1),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}},created:function(){this.$store.dispatch("updateCheckoutBtn",!0)}},Et=$t,Tt=Object(p["a"])(Et,Pt,Dt,!1,null,null,null),Lt=Tt.exports,St=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"container py-5"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"bg-cover content-img mb-3",style:{backgroundImage:"url("+t.Product.imageUrl+")"}})]),s("div",{staticClass:"col-md-6"},[s("h1",{staticClass:"h3 fw-bold"},[t._v(t._s(t.Product.title))]),s("div",{staticClass:"d-flex py-3 align-items-center"},[s("span",{staticClass:"text-decoration-line-through text-third me-3"},[t._v(" NT $"+t._s(t.Product.origin_price))]),s("strong",{staticClass:"h3 fw-bold text-alert"},[t._v("NT $"+t._s(t.Product.price)+" ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"input-group mb-3"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"minus"},on:{click:function(a){return a.preventDefault(),t.minusQuantity(a)}}},[s("strong",{staticClass:"h4"},[t._v("−")])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{change:t.VerifyNumber,input:function(a){a.target.composing||(t.quantity=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"plus"},on:{click:function(a){return a.preventDefault(),t.addQuantity(a)}}},[s("strong",{staticClass:"h4"},[t._v("+")])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("button",{staticClass:"my-2 btn btn-block btn-primary w-100 text-third",on:{click:function(a){return a.preventDefault(),t.addToCart(t.Product.id,t.quantity)}}},[t._v(" 加入購物車"),s("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===t.Product.id?s("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])]),s("hr",{staticClass:"my-3"}),s("div",{staticClass:"row text-third "},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"mb-4"},[t._m(0),s("p",{staticClass:"py-2"},[t._v(t._s(t.Product.description))])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"mb-4"},[t._m(1),s("p",{staticClass:"py-2"},[s("pre",[t._v(t._s(t.Product.content))])])])])]),s("div",{staticClass:"row"},[t.RelativeProduct.length>0?s("h3",{staticClass:"d-none d-md-block"},[t._v("看看類似商品")]):t._e(),t._l(t.RelativeProduct,(function(a){return s("div",{key:a.id,staticClass:"col-md-4 d-none d-md-block"},[s("router-link",{attrs:{to:"/content/"+a.id,target:"_blank"}},[s("div",{staticClass:"card bg-light h-100"},[s("div",{staticClass:"card-img-wrapper"},[s("img",{staticClass:"card-img card-img-size",attrs:{src:a.imageUrl,alt:a.title}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title  text-third"},[s("strong",[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex justify-content-between"},[s("span",{staticClass:"text-decoration-line-through text-third "},[s("small",[t._v("NT $"+t._s(t._f("currency")(a.origin_price)))])]),s("strong",{staticClass:"text-alert"},[t._v("NT $"+t._s(t._f("currency")(a.price))+" ")])])]),s("div",{staticClass:"card-footer border-0 bg-light"},[s("button",{staticClass:"my-2 btn btn-block btn-primary w-100 text-third",on:{click:function(s){return s.preventDefault(),t.addToCart(a.id)}}},[t._v(" 加入購物車"),s("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)}))],2)])],1)},At=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",[s("i",{staticClass:"fas fa-info-circle me-2"}),t._v("商品注意事項")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",[s("i",{staticClass:"fas fa-feather-alt me-2"}),t._v("商品特色")])}],Yt=(s("a630"),s("3ca3"),s("fb6a"),{name:"product",data:function(){return{Product:{},RelativeProduct:[],productId:"",quantity:1,min:1,max:20}},components:{CardGroup:lt},computed:Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible","loadingItem"])),methods:{getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/product/").concat(this.productId),s=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(a).then((function(t){t.data.success?s.Product=Object.assign({},t.data.product):s.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"})})).then((function(){t.getRelativeProduct()})).catch((function(t){console.log(t)}))},addQuantity:function(){this.quantity<20&&this.quantity++},minusQuantity:function(){this.quantity>1&&this.quantity--},VerifyNumber:function(){this.quantity>this.max&&(this.quantity=this.max),this.quantity<this.min&&(this.quantity=this.min)},getRelativeProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/products/all"),a=this;this.$http.get(t).then((function(t){if(t.data.success){var s=t.data.products;a.RelativeProduct=s.filter((function(t,s){return t.category.indexOf(a.Product.category)>-1&&t.title!==a.Product.title})),a.RelativeProduct=Array.from(a.RelativeProduct.slice(0,3))}else a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"});a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddtoCart",{id:t,qty:a})}},created:function(){this.productId=this.$route.params.contentId,this.getProduct(),this.$store.dispatch("updateCheckoutBtn",!0)}}),It=Yt,Nt=Object(p["a"])(It,St,At,!1,null,null,null),qt=Nt.exports,Bt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Navbar"),s("Alert"),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("Sidebar",{attrs:{open:t.isOpen},on:{closeNav:function(a){t.isOpen=!1}}}),s("main",{staticClass:"col-md-9 col-lg-10 ms-sm-auto px-md-4 dashboard-main",class:{open:!0===t.isOpen,close:!1===t.isOpen}},[s("div",{staticClass:"collapse-btn  d-md-none ",on:{click:function(a){t.isOpen=!t.isOpen}}},[t._v("展開"),s("i",{staticClass:"fas fa-angle-double-right"})]),s("router-view")],1)],1)])],1)},Ft=[],zt=(s("ac1f"),s("5319"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-3 col-lg-2 g-0 col-sm-3 col-6 "},[s("nav",{staticClass:"bg-light sidebar h-100",class:{open:!0===t.open,close:!1===t.open},attrs:{id:"sidebarMenu"}},[s("div",{staticClass:"position-sticky"},[s("div",{staticClass:"text-end  pt-1"},[s("a",{staticClass:"closebtn d-md-none  pe-3",attrs:{href:"#"},on:{click:t.closeMenu}},[s("i",{staticClass:"fas fa-times"})])]),s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link h5",attrs:{to:"/admin/dashboard"}},[s("i",{staticClass:"fas fa-home me-2"}),t._v("後臺管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/order"}},[s("i",{staticClass:"fas fa-truck  me-2"}),t._v("訂單管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/productManage"}},[s("i",{staticClass:"fas fa-shopping-cart me-2"}),t._v("商品管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/coupon"}},[s("i",{staticClass:"fas fa-tags me-2"}),t._v(" 折扣優惠卷 ")])],1)])])])])}),Gt=[],Vt={name:"sidebar",props:["open"],data:function(){return{}},methods:{closeMenu:function(){this.$emit("closeNav")}}},Ut=Vt,Kt=Object(p["a"])(Ut,zt,Gt,!1,null,null,null),Ht=Kt.exports,Rt={name:"dashboard",data:function(){return{isOpen:!1}},components:{Navbar:L,Sidebar:Ht,Alert:f},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},Wt=Rt,Xt=Object(p["a"])(Wt,Bt,Ft,!1,null,null,null),Jt=Xt.exports,Qt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"row py-4"},[s("DisplayBox",{attrs:{count:t.filterToday.length,title:"今日訂單",bg:"bginfo"},on:{showModal:t.openTodayModel}}),s("DisplayBox",{attrs:{count:t.filterWeek.length,title:"本周訂單",bg:"bgprimary"},on:{showModal:t.openWeekModel}}),s("DisplayBox",{attrs:{count:t.filterMonth.length,title:"本月訂單",bg:"bgsecondary"},on:{showModal:t.openMonthModel}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"d-flex justify-content-between"},[s("h5",{staticClass:"text-third"},[t._v("訂單銷售一覽")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.chartDataType,expression:"chartDataType"}],staticClass:"form-select form-select-sm time-select",attrs:{"aria-label":"select"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.chartDataType=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",value:"week"}},[t._v("本周")]),s("option",{attrs:{value:"year"}},[t._v("年度")])])]),s("div",{staticClass:"col-md-6"},[s("canvas",{directives:[{name:"show",rawName:"v-show",value:"week"===t.chartDataType,expression:"chartDataType==='week'"}],attrs:{id:"weekLineChart"}}),s("canvas",{directives:[{name:"show",rawName:"v-show",value:"year"===t.chartDataType,expression:"chartDataType==='year'"}],attrs:{id:"monthLineChart"}})]),s("div",{staticClass:"col-md-6"},[s("canvas",{directives:[{name:"show",rawName:"v-show",value:"week"===t.chartDataType,expression:"chartDataType==='week'"}],attrs:{id:"weekSalesChart"}}),s("canvas",{directives:[{name:"show",rawName:"v-show",value:"year"===t.chartDataType,expression:"chartDataType==='year'"}],attrs:{id:"MonthSalesChart"}})])]),s("div",{staticClass:"modal fade",attrs:{id:"DisplayBoxModal",tabindex:"-1","aria-labelledby":"DisplayBoxModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl  modal-dialog-scrollable"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary text-third"},[s("h5",{staticClass:"modal-title",attrs:{id:"DisplayBoxModalLabel"}},[t._v(t._s(t.ModalTitle))]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[t.filterToday.length>0?s("table",{staticClass:"table table-striped"},[t._m(0),s("tbody",t._l(t.currentFilterDay,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(t.TrnasformDate(a.create_at)))]),s("td",[s("ul",{staticClass:"pl-0"},t._l(a.products,(function(a){return s("li",{key:a.id},[t._v(" "+t._s(a.product.title)+" "+t._s(a.qty)+t._s(a.product.unit)+" ")])})),0)]),s("td",[t._v(t._s(t._f("currency")(a.total)))]),s("td",[a.is_paid?s("span",{staticClass:"text-success"},[t._v("已付款")]):s("span",{staticClass:"text-danger"},[t._v("未付款")])])])})),0)]):s("div",[t._v("尚無訂單")])]),t._m(1)])])])],1)},Zt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",[t._v("購買時間")]),s("th",[t._v("購買內容")]),s("th",[t._v("應付金額")]),s("th",[t._v("狀態")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("關閉")])])}],ta=s("2909"),aa=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 col-sm-4 mb-3"},[s("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.showModalDialog(a)}}},[s("div",{staticClass:"text-center py-2 rounded text-third bg-gradient display-box",class:t.bg},[s("h5",{staticClass:"display-7"},[t._v(t._s(t.title))]),s("p",{staticClass:"display-6 mb-0"},[t._v(t._s(t.count))])])])])},sa=[],ea={name:"displayBox",props:["bg","title","count"],methods:{showModalDialog:function(){this.$emit("showModal")}}},ia=ea,oa=Object(p["a"])(ia,aa,sa,!1,null,null,null),ra=oa.exports,na=s("c1df"),ca=s.n(na),la=s("9b4a");la["a"].register.apply(la["a"],Object(ta["a"])(la["b"]));var da={name:"dashboardIndex",data:function(){return{ordersAll:[],chartOrders:[],chartTotals:[],chartLabels:[],chartDataType:"week",DisplayBoxModal:null,ModalTitle:"",currentFilterDay:[]}},components:{DisplayBox:ra},computed:Object(e["a"])(Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible"])),{},{filterToday:function(){var t=[],a=new Date,s="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());return t=this.ordersAll.filter((function(t){var a=new Date(1e3*t.create_at),e="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());return s===e})),t},filterWeek:function(){var t=[],a=ca()().startOf("week"),s=ca()().endOf("week");return t=this.ordersAll.filter((function(t){return ca()(1e3*t.create_at).isBetween(a,s)})),t},filterMonth:function(){var t=[],a=ca()().startOf("month"),s=ca()().endOf("month");return t=this.ordersAll.filter((function(t){return ca()(1e3*t.create_at).isBetween(a,s)})),t}}),methods:{TrnasformDate:function(t){var a=new Date(1e3*t),s="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes());return s},getOrderAll:function(){var t=this,a=1,s=1,e=[],i="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a),o=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(i).then((function(a){if(a.data.success){e=a.data.orders,s=a.data.pagination.total_pages;for(var i=2;i<s+1;i++){var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(i);t.$http.get(r).then((function(a){a.data.success?(o.ordersAll=e.concat(a.data.orders),o.getWeekOrder(),o.setMonthsChart()):o.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}}else o.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).catch((function(t){console.log(t)}))},getWeekOrder:function(){var t=ca()().startOf("week"),a=ca()().endOf("week");this.chartOrders=this.ordersAll.filter((function(s){return ca()(1e3*s.create_at).isBetween(t,a)})),this.setWeekChart()},setWeekChart:function(){var t=ca()().startOf("week"),a=ca()().endOf("week"),s=ca()(t,["YYYY/MM/DD"]),e=ca()(t).add(1,"days").format("YYYY/MM/DD"),i=ca()(t).add(2,"days").format("YYYY/MM/DD"),o=ca()(t).add(3,"days").format("YYYY/MM/DD"),r=ca()(t).add(4,"days").format("YYYY/MM/DD"),n=ca()(t).add(5,"days").format("YYYY/MM/DD"),c=ca()(a,["YYYY/MM/DD"]),l=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==s})),d=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==e})),u=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==i})),p=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==o})),m=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==r})),f=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==n})),h=this.chartOrders.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM/DD");return a==c}));this.chartLabels=["週日","周一","週二","週三","週四","週五","週六"],this.chartTotals=[l.length,d.length,u.length,p.length,m.length,f.length,h.length],this.setChart("weekLineChart","bar","銷售量","rgba(69, 120, 252, 0.6)","rgba(69, 120, 252, 0.7)");var v=0,g=0,b=0,C=0,_=0,y=0,x=0;l.forEach((function(t){v+=t.total})),d.forEach((function(t){g+=t.total})),u.forEach((function(t){b+=t.total})),p.forEach((function(t){C+=t.total})),m.forEach((function(t){_+=t.total})),f.forEach((function(t){y+=t.total})),h.forEach((function(t){x+=t.total})),this.chartTotals=[v,g,b,C,_,y,x],this.setChart("weekSalesChart","line","銷售額","rgba(63, 191, 127, 0.6)","rgba(63, 191, 127, 0.7)")},setMonthsChart:function(){var t=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/01")})),a=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/02")})),s=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/03")})),e=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/04")})),i=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/05")})),o=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/06")})),r=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/07")})),n=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/08")})),c=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/09")})),l=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/10")})),d=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/11")})),u=this.ordersAll.filter((function(t){var a=ca()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(ca()().year(),"/12")}));this.chartLabels=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],this.chartTotals=[t.length,a.length,s.length,e.length,i.length,o.length,r.length,n.length,c.length,l.length,d.length,u.length],this.setChart("monthLineChart","bar","銷售量","rgba(247, 142, 38, 0.6)","rgba(247, 142, 38, 0.7)");var p=0,m=0,f=0,h=0,v=0,g=0,b=0,C=0,_=0,y=0,x=0,k=0;t.forEach((function(t){m+=t.total})),a.forEach((function(t){f+=t.total})),s.forEach((function(t){h+=t.total})),e.forEach((function(t){v+=t.total})),i.forEach((function(t){g+=t.total})),o.forEach((function(t){b+=t.total})),r.forEach((function(t){p+=t.total})),n.forEach((function(t){C+=t.total})),c.forEach((function(t){_+=t.total})),l.forEach((function(t){y+=t.total})),d.forEach((function(t){x+=t.total})),u.forEach((function(t){k+=t.total})),this.chartTotals=[m,f,h,v,g,b,p,C,_,y,x,k],this.setChart("MonthSalesChart","line","銷售額","rgba(127, 63, 191, 0.6)","rgba(127, 63, 191, 0.7)")},setChart:function(t,a,s,e,i){var o=document.getElementById(t).getContext("2d"),r={type:a,data:{labels:this.chartLabels,datasets:[{label:s,backgroundColor:e,borderColor:i,data:this.chartTotals,fill:!1}]},options:{responsive:!0}};new la["a"](o,r)},openTodayModel:function(){this.currentFilterDay=Array.from(this.filterToday),this.ModalTitle="本日訂單",this.DisplayBoxModal.show()},openWeekModel:function(){this.currentFilterDay=Array.from(this.filterWeek),this.ModalTitle="本周訂單",this.DisplayBoxModal.show()},openMonthModel:function(){this.currentFilterDay=Array.from(this.filterMonth),this.ModalTitle="本月訂單",this.DisplayBoxModal.show()}},created:function(){this.getOrderAll(),ca()().format(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.DisplayBoxModal=new bootstrap.Modal(document.getElementById("DisplayBoxModal"))}},ua=da,pa=Object(p["a"])(ua,Qt,Zt,!1,null,null,null),ma=pa.exports,fa=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"text-end py-3"},[s("button",{staticClass:"btn btn-info text-white",attrs:{"data-toggle":"modal"},on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新產品"),s("i",{staticClass:"fas fa-plus ms-2"})])]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(0),s("tbody",t._l(t.products,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.category))]),s("td",[t._v(t._s(a.title))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.origin_price)))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.price)))]),s("td",[a.is_enabled?s("span",[t._v("啟用")]):s("span",[t._v("未啟用")])]),s("td",[s("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(s){return t.openModal(!1,a)}}},[t._v("編輯")]),s("button",{staticClass:"btn btn-outline-alert btn-sm",on:{click:function(s){return s.preventDefault(),t.openModalDelete(a)}}},[t._v("刪除")])])])})),0)])]),0==t.products.length?s("div",{},[s("h3",{staticClass:"text-center"},[t._v("請新增產品")])]):t._e(),s("pagination",{attrs:{pagination:t.pagination},on:{getData:t.getProducts}}),s("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),s("strong",{staticClass:"text-danger"},[t._v(t._s(t.currentProduct.title))]),t._v("?"),s("br"),t._v(" 商品(刪除後將無法恢復)。 ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v("確認刪除")])])])])]),s("div",{staticClass:"modal fade",attrs:{id:"AddNewModal",tabindex:"-1","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary bg-gradient text-third"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.modaltitle))]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"row g-3"},[s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"title"}},[t._v("標題")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.title,expression:"currentProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.currentProduct.title},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"title",a.target.value)}}})]),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"category"}},[t._v("分類")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.category,expression:"currentProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.currentProduct.category},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"category",a.target.value)}}})]),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"price"}},[t._v("單位")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.unit,expression:"currentProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.currentProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"unit",a.target.value)}}})]),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"origin_price"}},[t._v("原價")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.origin_price,expression:"currentProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.currentProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"origin_price",a.target.value)}}})]),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"price"}},[t._v("售價")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.price,expression:"currentProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.currentProduct.price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"price",a.target.value)}}})]),s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.imageUrl,expression:"currentProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.currentProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"imageUrl",a.target.value)}}})]),s("div",{staticClass:"col-md-6"},[s("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.currentProduct.imageUrl}})]),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileuploading?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),s("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadImage}})]),s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"description"}},[t._v("產品描述")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.description,expression:"currentProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",rows:"5",placeholder:"請輸入產品描述"},domProps:{value:t.currentProduct.description},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"description",a.target.value)}}})]),s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"content"}},[t._v("說明內容")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.content,expression:"currentProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",rows:"10",placeholder:"請輸入產品說明內容"},domProps:{value:t.currentProduct.content},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"content",a.target.value)}}})]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.is_enabled,expression:"currentProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentProduct.is_enabled)?t._i(t.currentProduct.is_enabled,null)>-1:t._q(t.currentProduct.is_enabled,1)},on:{change:function(a){var s=t.currentProduct.is_enabled,e=a.target,i=e.checked?1:0;if(Array.isArray(s)){var o=null,r=t._i(s,o);e.checked?r<0&&t.$set(t.currentProduct,"is_enabled",s.concat([o])):r>-1&&t.$set(t.currentProduct,"is_enabled",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.currentProduct,"is_enabled",i)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])])],1)},ha=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"border-bottom-2"},[s("th",{attrs:{width:"120"}},[t._v("分類")]),s("th",[t._v("產品名稱")]),s("th",{attrs:{width:"60"}},[t._v("原價")]),s("th",{attrs:{width:"60"}},[t._v("售價")]),s("th",{attrs:{width:"120"}},[t._v("是否啟用")]),s("th",{attrs:{width:"120"}},[t._v("編輯")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-danger bg-gradient"},[s("h5",{staticClass:"modal-title text-white"},[t._v("刪除商品")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],va=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination manage-pagination justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},ga=[],ba={name:"pagination",props:["pagination"],methods:{getProducts:function(t){this.$emit("getData",t)}}},Ca=ba,_a=Object(p["a"])(Ca,va,ga,!1,null,null,null),ya=_a.exports,xa={name:"ProductManage",data:function(){return{products:[],currentProduct:{},isNew:!1,pagination:{},status:{fileuploading:!1},modaltitle:"",modalDelete:null,modalUpdate:null}},components:{pagination:ya},methods:{openModal:function(t,a){t?(this.currentProduct={},this.isNew=!0,this.modaltitle="新增商品"):(this.currentProduct=Object.assign({},a),this.isNew=!1,this.modaltitle="編輯商品"),this.modalUpdate.show()},openModalDelete:function(t){this.currentProduct=Object.assign({},t),this.modalDelete.show()},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/products?page=").concat(t),s=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(a).then((function(t){t.data.success?(s.products=t.data.products,s.pagination=t.data.pagination):s.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),s.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},deleteProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product/").concat(this.currentProduct.id),a=this;this.$store.dispatch("updatedLoading",!0),this.$http.delete(t).then((function(t){t.data.success?(a.modalDelete.hide(),a.getProducts()):(a.modalDelete.hide(),a.getProducts(),a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"})),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},uploadImage:function(){var t=this.$refs.files.files[0],a=this;a.status.fileuploading=!0;var s=new FormData;s.append("file-to-upload",t);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/upload");this.$http.post(e,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success?a.$set(a.currentProduct,"imageUrl",t.data.imageUrl):a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.status.fileuploading=!1,document.getElementById("customFile").value=""})).catch((function(t){console.log(t)}))},updateProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product"),a="post",s=this;this.$store.dispatch("updatedLoading",!0),s.isNew||(t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product/").concat(s.currentProduct.id),a="put"),this.$http[a](t,{data:s.currentProduct}).then((function(t){t.data.success?(s.modalUpdate.hide(),s.getProducts()):(s.modalUpdate.hide(),s.getProducts(),s.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"})),s.$store.dispatch("updatedLoading",!0)})).catch((function(t){console.log(t)}))}},computed:Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible"])),created:function(){this.getProducts(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.modalDelete=new bootstrap.Modal(document.getElementById("delProductModal")),this.modalUpdate=new bootstrap.Modal(document.getElementById("AddNewModal"))}},ka=xa,wa=Object(p["a"])(ka,fa,ha,!1,null,null,null),ja=wa.exports,Ma=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"container"},[s("CheckoutFlow",{attrs:{activeEl:"checkout1"}}),s("div",{staticClass:"row justify-content-center align-items-center"},[s("div",{staticClass:"col-md-11"},[t._l(t.cart,(function(a){return s("div",{key:a.id,staticClass:"row mb-2 pb-2 border-bottom border-2 align-items-center"},[s("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-3"},[s("img",{staticClass:"cart-img",attrs:{src:a.product.imageUrl,alt:"item.product.title"}})]),s("div",{staticClass:"col-6 col-sm-8 col-md-9 col-lg-9"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-md-6 col-sm-6"},[s("span",{staticClass:"badge bg-third mb-3"},[t._v(t._s(a.product.category))]),s("p",{staticClass:"h5"},[t._v(t._s(a.product.title))]),s("p",[t._v("數量:"+t._s(a.qty))])]),s("div",{staticClass:"col-md-4 col-sm-4 col-9"},[s("p",{staticClass:"h5"},[t._v(t._s(t._f("currency")(a.product.price)))])]),s("div",{staticClass:"col-md-2 col-sm-2 col-3"},[s("button",{staticClass:"btn py-0 text-alert ",on:{click:function(s){return t.deleteCartItem(a.id)}}},[s("i",{staticClass:"fas fa-trash-alt fa-lg"})])])])])])})),s("div",{staticClass:"row"},[t.cartObjLength>0?s("div",{staticClass:"d-flex justify-content-end py-2"},[s("div",{staticClass:"me-4 h5"},[t._v("總計")]),s("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(t.cartObjTotal)))])]):t._e(),t.finalTotal!==t.cartObjTotal?s("div",{staticClass:"d-flex justify-content-end py-2"},[s("div",{staticClass:"text-success me-4 h5"},[t._v("折扣價")]),s("div",{staticClass:"text-success h5"},[t._v(t._s(t.finalTotal))])]):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 col-sm-8"},[t.cart.length>0?s("div",{staticClass:"input-group input-group-sm mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼","aria-label":"請輸入優惠碼","aria-describedby":"button-addon"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-third",attrs:{type:"button",id:"button-addon"},on:{click:t.useCoupon}},[t._v("套用優惠碼")])])]):t._e()]),t.cart.length>0?s("div",{staticClass:"col-md-4 col-sm-4 text-end"},[s("router-link",{staticClass:"btn btn-primary text-third w-100",attrs:{to:"/checkoutContact"}},[t._v(" 確認結帳"),s("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1):t._e()]),s("div",{staticClass:"row"},[0===t.cart.length?s("div",{staticClass:"text-center py-5"},[s("router-link",{staticClass:"btn btn-primary text-third",attrs:{to:"/product"}},[t._v(" 沒有商品了，去逛逛"),s("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1):t._e()])],2)])],1)],1)},Oa=[],Pa=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row py-3"},[s("div",{staticClass:"d-flex justify-content-center flex-wrap"},[s("span",{staticClass:"badge rounded-pill flow-item me-3 p-3 mb-3 text-third ",class:{active:"checkout1"===t.activeEl}},[t._v("購物清單")]),s("i",{staticClass:"fas fa-chevron-right text-third m-3 d-none d-sm-inline"}),s("span",{staticClass:"badge rounded-pill flow-item me-3 mb-3 p-3 text-third ",class:{active:"checkout2"===t.activeEl}},[t._v("聯絡人資訊")]),s("i",{staticClass:"fas fa-chevron-right text-third m-3 d-none d-sm-inline"}),s("span",{staticClass:"badge rounded-pill flow-item mb-3  p-3 text-third ",class:{active:"checkout3"===t.activeEl}},[t._v("結帳付款")])])])},Da=[],$a={name:"checkoutFlow",props:["activeEl"]},Ea=$a,Ta=Object(p["a"])(Ea,Pa,Da,!1,null,null,null),La=Ta.exports,Sa={name:"Checkout1",components:{CheckoutFlow:La},data:function(){return{coupon_code:""}},created:function(){this.$store.dispatch("getCart"),this.$store.dispatch("updateCheckoutBtn",!1)},computed:Object(e["a"])({},Object(o["b"])(["cart","isLoading","cartObjLength","cartObjTotal","finalTotal","checkoutVisible"])),methods:{deleteCartItem:function(t){this.$store.dispatch("deleteCartItem",t)},useCoupon:function(){this.$store.dispatch("useCoupon",this.coupon_code)}}},Aa=Sa,Ya=Object(p["a"])(Aa,Ma,Oa,!1,null,null,null),Ia=Ya.exports,Na=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"container"},[s("CheckoutFlow",{attrs:{activeEl:"checkout2"}}),s("div",{staticClass:"row justify-content-center align-items-center"},[s("div",{staticClass:"col-md-11"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var e=a.invalid;return[s("form",{on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6  mb-4"},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,i=a.classes;return[s("label",{attrs:{for:"userName"}},[t._v("姓名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control ",class:i,attrs:{type:"text",name:"姓名",id:"userName"},domProps:{value:t.user.name},on:{input:function(a){a.target.composing||t.$set(t.user,"name",a.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])]}}],null,!0)})],1),s("div",{staticClass:"col-md-6  mb-4"},[s("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,i=a.classes;return[s("label",{attrs:{for:"email"}},[t._v("信箱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",class:i,attrs:{type:"email",name:"信箱",id:"email"},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6  mb-4"},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,i=a.classes;return[s("label",{attrs:{for:"phone"}},[t._v("電話")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.tel,expression:"user.tel"}],staticClass:"form-control",class:i,attrs:{type:"tel",name:"電話",id:"phone"},domProps:{value:t.user.tel},on:{input:function(a){a.target.composing||t.$set(t.user,"tel",a.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])]}}],null,!0)})],1),s("div",{staticClass:"col-md-6 mb-4"},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,i=a.classes;return[s("label",{attrs:{for:"email"}},[t._v("付款方式")]),s("select",{staticClass:"form-select ",class:i,attrs:{name:"付款方式"}},[s("option",{attrs:{value:"payafter",selected:""}},[t._v("貨到付款")]),s("option",{attrs:{value:"creditcard"}},[t._v("信用卡")])]),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12  mb-4"},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,i=a.classes;return[s("label",{attrs:{for:"address"}},[t._v("地址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"地址",id:"address"},domProps:{value:t.user.address},on:{input:function(a){a.target.composing||t.$set(t.user,"address",a.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 mb-4"},[s("label",{attrs:{for:"message"}},[t._v("留言")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.message,expression:"user.message"}],staticClass:"form-control",attrs:{name:"留言",id:"message",cols:"30",rows:"3"},domProps:{value:t.user.message},on:{input:function(a){a.target.composing||t.$set(t.user,"message",a.target.value)}}})])]),s("div",{staticClass:"text-end mb-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e}},[t._v("送出訂單"),s("i",{staticClass:"fas fa-angle-double-right ms-2"})])])])]}}])})],1)])],1)],1)},qa=[],Ba=(s("498a"),{name:"Checkout2",components:{CheckoutFlow:La},data:function(){return{user:{name:"",email:"",tel:"",address:"",message:""}}},methods:{createOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/order"),s=this;this.$store.dispatch("updatedLoading",!0);var e=s.user.message.trim().replace(/[&<>"'`=\/]/g,"");this.$http.post(a,{data:{user:s.user},message:e}).then((function(a){a.data.success?s.$router.push("/checkoutPay/".concat(a.data.orderId)):s.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),s.$store.dispatch("getCart"),t.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}},computed:Object(e["a"])({},Object(o["b"])(["isLoading"]))}),Fa=Ba,za=Object(p["a"])(Fa,Na,qa,!1,null,null,null),Ga=za.exports,Va=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"container"},[s("CheckoutFlow",{attrs:{activeEl:"checkout3"}}),s("div",{staticClass:"row justify-content-center align-items-center"},[s("form",{staticClass:"col-md-11",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._m(0),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped"},[t._m(1),s("tbody",t._l(t.order.products,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.total!==a.final_total?s("span",{staticClass:"badge bg-success ms-2"},[t._v(" 折扣商品 ")]):t._e()]),s("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),a.total!=a.final_total?s("td",{staticClass:" pe-5 text-end"},[s("del",[t._v(t._s(t._f("currency")(a.total)))])]):t._e(),a.total!=a.final_total?s("td",{staticClass:"pe-5 text-end"},[t._v(t._s(t._f("currency")(a.final_total)))]):t._e(),a.total==a.final_total?s("td",{staticClass:" pe-5 text-end"},[t._v(t._s(t._f("currency")(a.total)))]):t._e(),a.total==a.final_total?s("td",{staticClass:" pe-5 text-end"},[t._v(t._s(t._f("currency")(a.final_total)))]):t._e()])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"border-bottom-0"}),s("td",{staticClass:"border-bottom-0"}),s("td",{staticClass:"pe-5 text-end border-bottom-0",attrs:{colspan:"2"}},[s("span",{staticClass:"h5"},[t._v("總計:"),t.order.total?s("span",{staticClass:"ms-2"},[t._v(" "+t._s(t._f("currency")(t.order.total)))]):t._e()])])])])])]),t._m(2),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped bg-light"},[s("tbody",[s("tr",[s("th",{staticClass:"ps-5"},[t._v("Email")]),s("td",{staticClass:"ps-5"},[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",{staticClass:"ps-5"},[t._v("姓名")]),s("td",{staticClass:"ps-5"},[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",{staticClass:"ps-5"},[t._v("收件人電話")]),s("td",{staticClass:"ps-5"},[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",{staticClass:"ps-5"},[t._v("收件人地址")]),s("td",{staticClass:"ps-5"},[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",{staticClass:"ps-5"},[t._v("付款狀態")]),s("td",{staticClass:"ps-5"},[t.order.is_paid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):s("span",[t._v("尚未付款")])])])])])]),!1===t.order.is_paid?s("div",{staticClass:"text-end mb-4"},[t._m(3)]):t._e(),!0===t.order.is_paid?s("div",{staticClass:"text-center mb-4"},[s("router-link",{staticClass:"btn btn-primary text-third",attrs:{to:"/"}},[t._v("回首頁")])],1):t._e()])])],1),t._m(4)])},Ua=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",{staticClass:"text-third"},[t._v("訂購商品資料"),s("i",{staticClass:"fas fa-shopping-bag ms-2"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",[t._v("商品")]),s("th",[t._v("數量")]),s("th",{staticClass:"pe-5 text-end"},[t._v("金額")]),s("th",{staticClass:"pe-5 text-end"},[t._v("最終價")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",{staticClass:"text-third"},[t._v("訂購者資料"),s("i",{staticClass:"fas fa-user ms-2"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"submit"}},[t._v("確認付款"),s("i",{staticClass:"fas fa-angle-double-right ms-2"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"paySuccessModal",tabindex:"-1","aria-labelledby":"paySuccessModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary"},[s("h5",{staticClass:"modal-title text-third",attrs:{id:"paySuccessModalLabel"}},[t._v("付款成功")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body text-third"},[t._v(" 感謝您購買本店商品，商品會盡速寄出，約3-5天到貨~ ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("關閉")])])])])])}],Ka={name:"Checkout3",components:{CheckoutFlow:La},data:function(){return{orderId:"",order:{user:{}},isDiscount:!1}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/order/").concat(this.orderId),s=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(a).then((function(a){a.data.success?s.order=Object.assign({},a.data.order):s.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},payOrder:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/pay/").concat(this.orderId),a=this;this.$store.dispatch("updatedLoading",!0),this.$http.post(t).then((function(t){if(t.data.success){var s=new bootstrap.Modal(document.getElementById("paySuccessModal"));s.show(),a.getOrder()}else a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"});a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},Ha=Ka,Ra=Object(p["a"])(Ha,Va,Ua,!1,null,null,null),Wa=Ra.exports,Xa=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"text-end py-3"},[s("button",{staticClass:"btn btn-info text-white",attrs:{"data-toggle":"modal"},on:{click:function(a){return t.openModal(!0)}}},[t._v(" 新增優惠卷"),s("i",{staticClass:"fas fa-plus ms-2"})])]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(0),s("tbody",t._l(t.coupons,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.title))]),s("td",[t._v(t._s(a.percent))]),s("td",[t._v(t._s(a.due_date))]),s("td",[a.is_enabled?s("span",[t._v("啟用")]):s("span",[t._v("未啟用")])]),s("td",[s("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(s){return t.openModal(!1,a)}}},[t._v("編輯")]),s("button",{staticClass:"btn btn-outline-alert btn-sm",on:{click:function(s){return t.openModalDelete(a)}}},[t._v("刪除")])])])})),0)]),0==t.coupons.length?s("div",[s("h3",{staticClass:"text-center"},[t._v("請新增優惠卷")])]):t._e()]),s("pagination",{attrs:{pagination:t.pagination},on:{getData:t.getCoupons}}),s("div",{staticClass:"modal fade",attrs:{id:"AddNewModal",tabindex:"-1","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary bg-gradient text-third"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle))]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"row g-3"},[s("div",{staticClass:"col-12 mb-4"},[s("label",{attrs:{for:"title"}},[t._v("名稱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.title,expression:"currentCuopon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入優惠名稱"},domProps:{value:t.currentCuopon.title},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"title",a.target.value)}}})]),s("div",{staticClass:"col-6 mb-4"},[s("label",{attrs:{for:"discountCode"}},[t._v("優惠碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.code,expression:"currentCuopon.code"}],staticClass:"form-control",attrs:{type:"text",id:"discountCode",placeholder:"請輸入優惠碼"},domProps:{value:t.currentCuopon.code},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"code",a.target.value)}}})]),s("div",{staticClass:"col-6 mb-4"},[s("label",{attrs:{for:"expireDay"}},[t._v("到期日")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.due_date,expression:"currentCuopon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"expireDay",placeholder:"請輸入到期日"},domProps:{value:t.currentCuopon.due_date},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"due_date",a.target.value)}}})]),s("div",{staticClass:"col-6 mb-4"},[s("label",{attrs:{for:"discountPercent"}},[t._v("折扣百分比")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.percent,expression:"currentCuopon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"discountPercent",placeholder:"請輸入折扣百分比"},domProps:{value:t.currentCuopon.percent},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"percent",a.target.value)}}})]),s("div",{staticClass:"col-6 mt-5"},[s("div",{staticClass:"form-check mb-4  ms-1"},[s("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.is_enabled,expression:"currentCuopon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentCuopon.is_enabled)?t._i(t.currentCuopon.is_enabled,null)>-1:t._q(t.currentCuopon.is_enabled,1)},on:{change:function(a){var s=t.currentCuopon.is_enabled,e=a.target,i=e.checked?1:0;if(Array.isArray(s)){var o=null,r=t._i(s,o);e.checked?r<0&&t.$set(t.currentCuopon,"is_enabled",s.concat([o])):r>-1&&t.$set(t.currentCuopon,"is_enabled",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.currentCuopon,"is_enabled",i)}}})])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("確認")])])])])]),s("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"delCouponModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),s("strong",{staticClass:"text-danger"},[t._v(t._s(t.currentCuopon.title))]),t._v(" 優惠卷(刪除後將無法恢復)。 ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v("確認刪除")])])])])])],1)},Ja=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th",{attrs:{width:"130"}},[t._v("名稱")]),s("th",{attrs:{width:"60"}},[t._v("折扣百分比")]),s("th",{attrs:{width:"120"}},[t._v("到期日")]),s("th",{attrs:{width:"60"}},[t._v("是否啟用")]),s("th",{attrs:{width:"120"}},[t._v("編輯")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-danger bg-gradient"},[s("h5",{staticClass:"modal-title text-white",attrs:{id:"delCouponModallLabel"}},[s("span",[t._v("刪除優惠卷")])]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],Qa={name:"coupon",data:function(){return{coupons:[],currentCuopon:{},pagination:{},isNew:!1,modalTitle:"",modalUpdate:null,modalDelete:null}},components:{pagination:ya},methods:{getCoupons:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupons?page=").concat(a),e=this;this.$store.dispatch("updatedLoading",!0),this.$http.get(s).then((function(a){a.data.success?(e.coupons=a.data.coupons,e.pagination=a.data.pagination):e.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},openModal:function(t,a){t?(this.currentCuopon={},this.isNew=!0,this.modalTitle="新增優惠卷"):(this.currentCuopon=Object.assign({},a),this.isNew=!1,this.modalTitle="修改優惠卷"),this.modalUpdate.show()},openModalDelete:function(t){this.currentCuopon=Object.assign({},t),this.modalDelete.show()},updateCoupon:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon"),a="post",s=this;this.$store.dispatch("updatedLoading",!0),s.isNew||(t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon/").concat(s.currentCuopon.id),a="put"),this.$http[a](t,{data:s.currentCuopon}).then((function(t){t.data.success?console.log(t.data.message):s.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),s.getCoupons(),s.modalUpdate.hide(),s.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))},deleteCoupon:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon/").concat(this.currentCuopon.id),a=this;a.$store.dispatch("updatedLoading",!0),this.$http.delete(t).then((function(t){t.data.success||a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.modalDelete.hide(),a.getCoupons(),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){console.log(t)}))}},created:function(){this.getCoupons(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.modalDelete=new bootstrap.Modal(document.getElementById("delCouponModal")),this.modalUpdate=new bootstrap.Modal(document.getElementById("AddNewModal"))},computed:Object(e["a"])({},Object(o["b"])(["isLoading","checkoutVisible"]))},Za=Qa,ts=Object(p["a"])(Za,Xa,Ja,!1,null,null,null),as=ts.exports,ss=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot1 bg-use"}),s("span",{staticClass:"dot dot2 bg-abstract"}),s("span",{staticClass:"dot dot3 bg-warning"}),s("span",{staticClass:"dot dot4 bg-alert"})]),s("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),s("div",{staticClass:"dot-loader"},[s("span",{staticClass:"dot dot5 bg-use"}),s("span",{staticClass:"dot dot6 bg-abstract"}),s("span",{staticClass:"dot dot7 bg-warning"}),s("span",{staticClass:"dot dot8 bg-alert"})])]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(0),s("tbody",t._l(t.Orders,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(t.getCreatedDate(a)))]),s("td",[t._v(t._s(a.user.email))]),s("td",[s("ul",{staticClass:"ps-0"},t._l(a.products,(function(a){return s("li",{key:a.id,staticClass:"list-insie"},[t._v(" "+t._s(a.product.title)+" 數量"+t._s(a.qty)+t._s(a.product.unit)+" ")])})),0)]),s("td",{staticClass:"text-end pe-3"},[t._v(t._s(t._f("currency")(a.total)))]),s("td",[a.is_paid?s("span",{staticClass:"text-success"},[t._v("已付款")]):s("span",{staticClass:"text-danger"},[t._v("未付款")])]),s("td",[s("button",{staticClass:"btn btn-outline-third",on:{click:function(s){return t.OpenModal(a)}}},[t._v("檢視")])])])})),0)]),0==t.Orders.length?s("div",[s("h3",{staticClass:"text-center"},[t._v("尚無訂單")])]):t._e()]),s("pagination",{attrs:{pagination:t.OrderPagination},on:{getData:t.getOrders}}),s("div",{staticClass:"modal fade",attrs:{id:"ViewModal",tabindex:"-1","aria-labelledby":"ViewModalabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl modal-dialog-scrollable",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(1),s("div",{staticClass:"modal-body"},[s("form",[s("fieldset",{staticClass:"row",attrs:{disabled:""}},[s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"datetime"}},[t._v("購買日期")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"datetime"},domProps:{value:t.getCreatedDate(t.currentOrder)}})]),s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"orderNo"}},[t._v("訂單編號")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"orderNo"},domProps:{value:t.currentOrder.id}})]),s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"total"}},[t._v("金額")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"total"},domProps:{value:t.currentOrder.total}})]),s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"isPaid"}},[t._v("狀態")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"isPaid"},domProps:{value:t.currentOrder.is_paid?"已付款":"未付款"}})]),s("div",{staticClass:"col-md-12 mb-3"},[s("label",[t._v("購物清單")]),s("ul",{staticClass:"ps-3 listReadonly"},t._l(t.currentOrder.products,(function(a){return s("li",{key:a.id},[t._v(t._s(a.product.title)+" 數量"+t._s(a.qty)+t._s(a.product.unit))])})),0)]),s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"name"}},[t._v("購買者")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.currentOrder.user.name}})]),s("div",{staticClass:"col-md-6 mb-3"},[s("label",{attrs:{for:"email"}},[t._v("email")]),s("input",{staticClass:"form-control",attrs:{type:"email",id:"email"},domProps:{value:t.currentOrder.user.email}})]),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"tel"}},[t._v("電話")]),s("input",{staticClass:"form-control",attrs:{type:"tel",id:"tel"},domProps:{value:t.currentOrder.user.tel}})]),s("div",{staticClass:"col-md-8 mb-3"},[s("label",{attrs:{for:"address"}},[t._v("地址")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"address"},domProps:{value:t.currentOrder.user.address}})]),s("div",{staticClass:"col-md-12 mb-3"},[s("label",[t._v("留言")]),s("textarea",{staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"3"},domProps:{value:t.currentOrder.user.message}})])])])]),t._m(2)])])])],1)},es=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th",{attrs:{width:"120"}},[t._v("購買時間")]),s("th",{attrs:{width:"140"}},[t._v("Email")]),s("th",{staticClass:"140"},[t._v("購買內容")]),s("th",{staticClass:"text-end pe-3",attrs:{width:"100"}},[t._v("應付金額")]),s("th",{attrs:{width:"100"}},[t._v("狀態")]),s("th",{attrs:{width:"100"}},[t._v("檢視")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-primary text-third"},[s("h5",{staticClass:"modal-title",attrs:{id:"ViewModalLabel"}},[s("span",[t._v("檢視訂單")])]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary text-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("關閉")])])}],is={name:"order",components:{pagination:ya},data:function(){return{currentOrder:{user:{}},viewModal:null}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("getOrder",t)},getCreatedDate:function(t){var a=new Date(1e3*t.create_at);return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())},OpenModal:function(t){this.currentOrder=Object.assign({},t),this.viewModal.show()}},created:function(){this.getOrders(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.viewModal=new bootstrap.Modal(document.getElementById("ViewModal"))},computed:Object(e["a"])({},Object(o["b"])(["isLoading","Orders","OrderPagination","checkoutVisible"]))},os=is,rs=Object(p["a"])(os,ss,es,!1,null,null,null),ns=rs.exports;i["a"].use(C["a"]);var cs=[{path:"*",redirect:"/login"},{path:"/",component:G,children:[{path:"/",name:"Index",component:ht},{path:"/product/:kind?",name:"Product",component:Ot},{path:"/login",name:"Login",component:Lt},{path:"/content/:contentId",name:"Content",component:qt},{path:"/checkoutCoupon",name:"Checkout1",component:Ia},{path:"/checkoutContact",name:"Checkout2",component:Ga},{path:"/checkoutPay/:orderId",name:"Checkout3",component:Wa}]},{path:"/admin",name:"Dashboard",component:Jt,children:[{path:"dashboard",name:"DashboardIndex",component:ma,meta:{requiresAuth:!0}},{path:"productManage",name:"ProductManage",component:ja,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:as,meta:{requiresAuth:!0}},{path:"order",name:"Order",component:ns,meta:{requiresAuth:!0}}]}],ls=new C["a"]({linkExactActiveClass:"active",routes:cs}),ds=ls,us=(s("a434"),s("bc3a")),ps=s.n(us),ms={state:{cart:[],cartObj:{carlen:0,total:0},finalTotal:0},mutations:{CART:function(t,a){t.cart=a},CARTOBJ:function(t,a){t.cartObj.carlen=a.carlen,t.cartObj.total=a.total},FINALTOTAL:function(t,a){t.finalTotal=a}},actions:{AddtoCart:function(t,a){var s=a.id,e=a.qty,i=void 0===e?1:e,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart");t.commit("LOADINGITEM",s);var r={product_id:s,qty:i};ps.a.post(o,{data:r}).then((function(a){if(a.data.success)t.dispatch("getCart");else{var s=a.data.message,e="danger",i={message:s,danger:e};t.commit("MESSAGESPUSH",i)}t.commit("LOADINGITEM","")})).catch((function(t){console.log(t)}))},getCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart");t.commit("LOADING",!0),ps.a.get(a).then((function(a){if(a.data.success){t.commit("CART",a.data.data.carts);var s={carlen:a.data.data.carts.length,total:a.data.data.total};t.commit("CARTOBJ",s),t.commit("FINALTOTAL",a.data.data.final_total)}else{var e=a.data.message,i="danger",o={message:e,danger:i};t.commit("MESSAGESPUSH",o)}t.commit("LOADING",!1)})).catch((function(t){console.log(t)}))},deleteCartItem:function(t,a){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart/").concat(a);t.commit("LOADING",!0),ps.a.delete(s).then((function(a){if(a.data.success)t.dispatch("getCart");else{var s=a.data.message,e="danger",i={message:s,danger:e};t.commit("MESSAGESPUSH",i)}t.commit("LOADING",!1)})).catch((function(t){console.log(t)}))},useCoupon:function(t,a){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/coupon");t.commit("LOADING",!0),ps.a.post(s,{data:{code:a}}).then((function(a){if(a.data.success)t.commit("FINALTOTAL",a.data.data.final_total);else{var s=a.data.message,e="danger",i={message:s,danger:e};t.commit("MESSAGESPUSH",i)}t.commit("LOADING",!1)})).catch((function(t){console.log(t)}))}},getters:{cart:function(t){return t.cart},cartObjLength:function(t){return t.cartObj.carlen},cartObjTotal:function(t){return t.cartObj.total},finalTotal:function(t){return t.finalTotal}}};i["a"].use(o["a"]);var fs=new o["a"].Store({state:{isLoading:!1,status:{loadingItem:""},messages:[],orders:[],orderPagination:{},loginStatus:!1,checkoutVisible:!0},mutations:{LOADING:function(t,a){t.isLoading=a},LOADINGITEM:function(t,a){t.status.loadingItem=a},MESSAGESPUSH:function(t,a){t.messages.push(a)},MESSAGEREMOVE:function(t,a){t.messages.splice(a,1)},MESSAGETIMEING:function(t,a){t.messages.forEach((function(s,e){s.timestamp===a&&t.messages.splice(e,1)}))},ORDERS:function(t,a){t.orders=a},ORDERPAGINATION:function(t,a){t.orderPagination=Object.assign({},a)},LOGINSTATUS:function(t,a){t.loginStatus=a},CHECKOUTVISIBLE:function(t,a){t.checkoutVisible=a}},actions:{updatedLoading:function(t,a){t.commit("LOADING",a)},updateLoadingItem:function(t,a){t.commit("LOADINGITEM",a)},updateMessage:function(t,a){var s=a.message,e=a.status,i=Math.floor(new Date/1e3),o={message:s,status:e,timestamp:i};t.commit("MESSAGESPUSH",o),t.dispatch("removeMessageWithTiming",i)},removeMessage:function(t,a){t.commit("MESSAGEREMOVE",a)},removeMessageWithTiming:function(t,a){setTimeout((function(){t.commit("MESSAGETIMEING",a)}),5e3)},getOrder:function(t,a){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.commit("LOADING",!0),ps.a.get(s).then((function(a){if(a.data.success)t.commit("ORDERS",a.data.orders),t.commit("ORDERPAGINATION",a.data.pagination);else{var s=a.data.message,e="danger",i={message:s,danger:e};t.commit("MESSAGESPUSH",i)}t.commit("LOADING",!1)})).catch((function(t){console.log(t)}))},getLoginStatus:function(t,a){t.commit("LOGINSTATUS",a)},updateCheckoutBtn:function(t,a){t.commit("CHECKOUTVISIBLE",a)}},getters:{isLoading:function(t){return t.isLoading},messages:function(t){return t.messages},loadingItem:function(t){return t.status.loadingItem},Orders:function(t){return t.orders},OrderPagination:function(t){return t.orderPagination},loginStatus:function(t){return t.loginStatus},checkoutVisible:function(t){return t.checkoutVisible}},modules:{CartModules:ms}}),hs=s("2106"),vs=s.n(hs),gs=s("9062"),bs=s.n(gs),Cs=s("7b17"),_s=(s("a9e3"),s("b680"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,(function(t,a,s){var e=a&&"."!==t&&(s.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return e})))}),ys=(s("e40d"),s("7bb1")),xs=s("60d4"),ks=s("4c93");i["a"].use(vs.a,ps.a),i["a"].use(o["a"]),window.bootstrap=Cs,i["a"].component("Loading",bs.a),Object.keys(ks).forEach((function(t){Object(ys["d"])(t,Object(e["a"])({},ks[t]))})),Object(ys["e"])("zh_TW",xs),Object(ys["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),i["a"].component("ValidationObserver",ys["a"]),i["a"].component("ValidationProvider",ys["b"]),i["a"].config.productionTip=!1,ps.a.defaults.withCredentials=!0,i["a"].filter("currency",_s),new i["a"]({router:ds,store:fs,render:function(t){return t(b)}}).$mount("#app"),ds.beforeEach((function(t,a,s){var e="".concat("https://vue-course-api.hexschool.io","/api/user/check");ps.a.post(e).then((function(a){a.data.success?(fs.dispatch("getLoginStatus",!0),s()):(fs.dispatch("getLoginStatus",!1),t.meta.requiresAuth?(fs.dispatch("updateMessage",{message:a.data.message,status:"danger"}),s({path:"/login"})):s())}))}))},"5c0b":function(t,a,s){"use strict";s("9c0c")},"5c3f":function(t,a,s){t.exports=s.p+"img/heater.81bc4cca.jpg"},7197:function(t,a,s){t.exports=s.p+"img/fertilizer.64522694.jpg"},"7d6d":function(t,a,s){"use strict";s("2d32")},"9c0c":function(t,a,s){},e192:function(t,a,s){t.exports=s.p+"img/guppybanner.01d54bf4.jpg"}});
//# sourceMappingURL=app.5341be87.js.map