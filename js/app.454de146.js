(function(t){function a(a){for(var s,n,c=a[0],o=a[1],l=a[2],u=0,m=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(a);while(m.length)m.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,c=1;c<e.length;c++){var o=e[c];0!==i[o]&&(s=!1)}s&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},i={app:0},r=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/HappyAquarium/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var d=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},4678:function(t,a,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var a=r(t);return e(a)}function r(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"4a2f":function(t,a,e){"use strict";e("b1d9")},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("5530"),i=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("159b"),e("b64b"),e("4de4"),e("2b0e")),r=e("2f62"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},c=[],o={},l=o,d=(e("5c0b"),e("2877")),u=Object(d["a"])(l,n,c,!1,null,null,null),m=u.exports,p=e("8c4f"),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("Navbar"),e("Alert"),e("router-view"),e("ScrollToTop"),t._m(0),e("div",{attrs:{id:"fb-root"}})],1)},f=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row "},[e("div",{staticClass:"col-lg-9 col-md-8"},[e("p",{staticClass:"display-6"},[e("i",{staticClass:"fas fa-fish text-primary me-2"}),e("strong",{staticClass:"text-info "},[t._v("快樂水族")])]),e("ul",{staticClass:"d-flex list-unstyled"},[e("li",{staticClass:"me-3"},[e("a",{staticClass:"icon-link",attrs:{href:"https://social-plugins.line.me/lineit/share?url=https://zhih-yi.github.io/HappyAquarium/",target:"_blank"}},[e("i",{staticClass:"fab fa-line fa-2x "})])]),e("li",{staticClass:"me-3",attrs:{"data-href":"https://zhih-yi.github.io/HappyAquarium/"}},[e("a",{staticClass:"icon-link",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fzhih-yi.github.io%2FHappyAquarium%2F%23%2F&src=sdkpreparse"}},[e("i",{staticClass:"fab fa-facebook-square fa-2x"})])])])]),e("div",{staticClass:"col-lg-3 col-md-4"},[e("p",{staticClass:"h4 text-info"},[t._v("聯絡方式")]),e("ul",{staticClass:"list-unstyled"},[e("li",[e("a",{staticClass:"contact-link",attrs:{href:"mailto:example@gmail.com"}},[e("i",{staticClass:"fas fa-envelope me-2"}),t._v("example@gmail.com")])]),e("li",[e("a",{staticClass:"contact-link",attrs:{href:"tel:+886886886"}},[e("i",{staticClass:"fas fa-phone-volume me-2"}),t._v("+886-886-886")])]),e("li",{staticClass:"contact-link"},[e("i",{staticClass:"fas fa-home mr-2"}),t._v("高雄市中正五路到底")])])])])])])}],h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-main navbar-expand-md bg-gradient p-0 "},[e("div",{staticClass:"container-fluid"},[t._m(0),e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e("i",{staticClass:"fas fa-fish text-primary me-2 fa-lg"}),e("strong",{staticClass:"text-info"},[t._v("快樂水族")])]),e("ShoppingCart"),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarContent"}},[e("ul",{staticClass:"navbar-nav ms-auto mb-2 mb-md-0"},[e("li",{staticClass:"nav-item me-3"},[e("router-link",{staticClass:"nav-link pb-0",attrs:{to:"/","exact-active-class":"active"},nativeOn:{click:function(a){return t.foldNav(a)}}},[t._v("首頁")])],1),e("li",{staticClass:"nav-item me-3"},[e("router-link",{staticClass:"nav-link pb-0",attrs:{to:"/product","exact-active-class":"active"},nativeOn:{click:function(a){return t.foldNav(a)}}},[t._v("商品")])],1),e("li",{staticClass:"nav-item me-3"},[e("router-link",{staticClass:"nav-link pb-0",attrs:{to:"/favorite","exact-active-class":"active"},nativeOn:{click:function(a){return t.foldNav(a)}}},[t._v("我的收藏")])],1),e("li",{staticClass:"nav-item me-3"},[e("router-link",{staticClass:"nav-link pb-0",attrs:{to:"/login","exact-active-class":"active"},nativeOn:{click:function(a){return t.foldNav(a)}}},[t._v("登入")])],1)])])],1)])])},g=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-bars text-white"})])}],b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.checkoutVisible?e("div",{staticClass:" d-flex align-items-center order-md-1",attrs:{id:"shoppingCart"}},[e("a",{staticClass:"cart nav-link",on:{click:function(a){a.preventDefault(),t.cartVisible=!t.cartVisible}}},[e("i",{staticClass:"fa-lg fas fa-shopping-cart fa-lg text-primary"}),e("span",{staticClass:"cart-num badge rounded-pill bg-alert text-white"},[e("small",[t._v(t._s(t.tmpCart.length))])])]),e("transition",{attrs:{name:"slide"}},[t.cartVisible?e("div",{staticClass:"cart-content bg-light rounded py-2 px-2"},[e("form",[e("div",{staticClass:"table-scroll"},[t.tmpCart.length>0?e("table",{staticClass:"table table-sm"},[e("thead",[e("tr",[e("th",{attrs:{width:"10"}}),e("th",{attrs:{width:"110"}},[t._v("品名")]),e("th",{staticClass:"text-end",attrs:{width:"40"}},[t._v("數量")]),e("th",{staticClass:"text-end",attrs:{width:"40"}},[t._v("單價")])])]),e("tbody",t._l(t.tmpCart,(function(a){return e("tr",{key:a.id},[e("td",{attrs:{valign:"middle"}},[t.checkoutVisible?e("button",{staticClass:"btn p-0 text-third",on:{click:function(e){return e.stopPropagation(),t.deleteTmpCartItem(a.id)}}},[e("i",{staticClass:"fas fa-trash-alt fa-xs"})]):t._e()]),e("td",{attrs:{valign:"middle"}},[t._v(" "+t._s(a.title)+" ")]),e("td",{staticClass:"text-end",attrs:{valign:"middle"}},[t._v(t._s(a.qty))]),e("td",{staticClass:"text-end",attrs:{valign:"middle"}},[t._v(t._s(t._f("currency")(a.price)))])])})),0)]):t._e()]),t.tmpCart.length>0?e("div",{staticClass:"d-flex justify-content-end py-2"},[e("div",{staticClass:"me-4"},[t._v("總計")]),e("div",[t._v(t._s(t._f("currency")(t.tmpTotal)))])]):t._e(),t.tmpCart.length>0?e("button",{staticClass:"btn btn-use btn-hv-style btn-block w-100 mb-2",attrs:{type:"button"},on:{click:t.toCheckout}},[t._v(" 結帳去"),e("i",{staticClass:"fas fa-shopping-bag ms-2"})]):t._e(),0===t.tmpCart.length?e("div",{staticClass:"px-2 py-2 text-center"},[e("i",{staticClass:"fa-lg fas fa-shopping-cart fa-3x mb-3"}),e("br"),e("p",[e("strong",{staticClass:"mb-3"},[t._v("您的購物車是空的")])]),e("router-link",{staticClass:"btn btn-use btn-hv-style",attrs:{to:"/product"}},[t._v("去逛逛"),e("i",{staticClass:"fas fa-angle-double-right"})])],1):t._e()])]):t._e()])],1):t._e()},C=[],_=e("1157"),y=e.n(_),x={name:"ShoppingCart",data:function(){return{cartVisible:!1,coupon_code:""}},computed:Object(s["a"])({},Object(r["b"])(["tmpCart","tmpTotal","checkoutVisible"])),created:function(){this.$store.dispatch("getTmpCart")},methods:{deleteTmpCartItem:function(t){this.$store.dispatch("removeTmpCart",t)},toCheckout:function(){this.cartVisible=!1,this.$router.push("/checkoutConfirm")},closeCart:function(t){"shoppingCart"===t.target.id||y()(t.target).closest("#shoppingCart").length||this.cartVisible&&(this.cartVisible=!1)}},mounted:function(){document.addEventListener("click",this.closeCart)},destroyed:function(){document.removeEventListener("click",this.closeCart)}},k=x,w=Object(d["a"])(k,b,C,!1,null,null,null),O=w.exports,M={name:"Navbar",props:["loginstatus"],components:{ShoppingCart:O},data:function(){return{isOpen:!1}},methods:{foldNav:function(){y()(".navbar-toggler").click()}},computed:Object(s["a"])({},Object(r["b"])(["loginStatus"]))},j=M,P=Object(d["a"])(j,h,g,!1,null,null,null),$=P.exports,D=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"alert-message"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert fade show",class:"alert-"+a.status,attrs:{role:"alert"}},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}})])})),0)},T=[],E={name:"AlertMessage",computed:Object(s["a"])({},Object(r["b"])(["messages"])),methods:{updateMessage:function(t,a){this.$store.dispatch("updateMessage",{message:t,status:a})},removeMessage:function(t){this.$store.dispatch("removeMessage",t)}}},L=E,S=(e("4a2f"),Object(d["a"])(L,D,T,!1,null,null,null)),A=S.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.visble?e("div",{staticClass:"toTop text-primary"},[t._m(0)]):t._e()},q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{attrs:{href:"#top"}},[e("i",{staticClass:"fas fa-chevron-circle-up fa-lg"})])}],N={name:"ScrollToTop",data:function(){return{visble:!1}},methods:{handleScroll:function(){var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;this.visble=t>20}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},F=N,Y=Object(d["a"])(F,I,q,!1,null,null,null),B=Y.exports,V={name:"Home",components:{Navbar:$,Alert:A,ScrollToTop:B}},U=V,z=Object(d["a"])(U,v,f,!1,null,null,null),G=z.exports,H=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("Loader")],1),s("Carousel",{}),s("div",{staticClass:"container-fluid pt-header"},[s("HeaderTitle",{attrs:{title:"分類導覽",icon:"fas fa-th-large"}}),s("div",{staticClass:"row justify-content-center "},[s("div",{staticClass:"col-md-10 "},[s("div",{staticClass:"row g-0"},[s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/水草"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1519657635301-68bb60c798f7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1492&q=80')"}},[s("div",{staticClass:"layer text-dark"},[t._v("水草")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/觀賞魚"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1520301255226-bf5f144451c1?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTF8fGZpc2glMjB0YW5rfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[s("div",{staticClass:"layer text-dark"},[t._v("觀賞魚")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/觀賞蝦"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://media.istockphoto.com/photos/pregnant-red-bee-dwarf-shrimp-look-for-food-in-fresh-water-aquarium-picture-id1223017973?b=1&k=6&m=1223017973&s=170667a&w=0&h=6GJFkuUZSQwqifCsP6kzePzUFknLQ_NYmJb96xj1WrU=')"}},[s("div",{staticClass:"layer text-dark"},[t._v("觀賞蝦")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/觀賞螺"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618049072705.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Qy2dJ5xCecNJfixqdURpCCH5JZdlNJPd5uEPGy4ylNVHxSiQ0iyloCnakhJGwHOxokLIyIep7vbIxOxpu1AxNMiVX00n2foi3F4cBmLMY40McdLrpC1EotwjlmJjpLTjTzgk0sWW0NgVuJNHx7dVyPjEqOTwaD2cRKWxsbROamhXQkyej7X1Sgv18WqBOc3VMMqeqAgjvQymrcGaaaWCMGF7CJANpI613S4Brfvs4UAzTLXf787%2BwVEJIVk8XHPDXw1B%2FDA4d4lIUfEYlN%2BEoL31SL5y9zUMr1Zs2SCEKI0%2Bgu5atzF3zKMVyATeC0JPnROr47msxDb%2FJsf6w%2Frwng%3D%3D')"}},[s("div",{staticClass:"layer text-dark"},[t._v("觀賞螺")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/飼料"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618056605362.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=p36q3ePk9g3uyQvfH3UG8TJyvkf6u1mNTjRue5McmGrIUxpDYmrZakatT7TJlocryPSqz78TB6sAbsRRMdc4hxNjkTXW41M4VG3TeM8RhXq93SkKQwheenLWZ17WZ8FG6zzeGfhTNKSfx%2BfzkOa%2B9hHIiTbuuXfZUUIgUF8p6KeKmwMvmquDKSPgwokX%2BuOxRyu2hQz7kNNgLQAG4%2BAkxU7k0ha57wwbXPNQjert4ffWtGx1WUxXEHL1yE0eaW%2FUgs8uTIvEqSJuKhfuKPfTCkV4U97xE5RarW0Wbm%2Fwfut3xYr9VG%2Feqj0ZXhNyXD%2F1BkmkoSa0tTKw0xvFYbudGQ%3D%3D')"}},[s("div",{staticClass:"layer text-dark"},[t._v("飼料")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/水質控制"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618064180440.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Jl%2FgVXYgzNUg8D4kBwXfj7wXw6PwdwqC4WSWPL%2FIZwen5BiDPIFzSRHEdhaW8hhqV4tO3UDwQDH21NJNxQwUETtpiVNvI2TD5n9FnVfYjtiqmdMJ5AlQ9ZnsP9rAoV54GLdwXwrLARNl4Viu7jAUBIXQIV0OFSQ3RtVsfU9gEhMy%2BYOjqvnqG2swf0bSMTi9kFbx5wiz0gyRKGhGx18PY7u7Xf4GgrVyPzHb%2FekDF34lit7PI%2F0HKnBZkxzeAg5GQ0Buca9D9%2FSwjr%2BlTN1vO%2BbnXlD861tAMP9XD8%2BB7jcspvEJ8KSKgXNQjhQzNu3m2tyPe5AcuettjmjoSe08bA%3D%3D')"}},[s("div",{staticClass:"layer text-dark"},[t._v("水質控制")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/水族用品"}},[s("div",{staticClass:"menu-item bg-cover text-center",staticStyle:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618061010167.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=qCz1zqyljSaJiZVo%2B0WEX31fJaPNTZieIOP%2BKKONaVw%2BVi%2F5ayXt4lbxBWry2B7bQvF%2F5J3cLdRdL%2FPeJJNQrP%2FrLCUOWHKjkTAQoWR8OoaipNy3mJdHjJRKjtRnXlcwvwFhWNj%2FMd408YYCgmH0AQaO%2BrrkSGJ%2FfQO3HjPKT%2BJip%2FOfeT9CybsVXKdbyShuxyMkqdHEIrwQGE67XzVHWIWMY14CorbWneVN2LGrgDugRi839RIbuszuPpa4K%2BJoH%2BUwqgAoGDa0IawnEKkuzjzSnraIdxVOQtOqg1DO8uTL34RJblf2Fw5ViNOSmiI00Jb8szRRR103kvxdasOgiQ%3D%3D')"}},[s("div",{staticClass:"layer text-dark"},[t._v("水族用品")])])])],1),s("div",{staticClass:"col-6 col-sm-3 animated-x"},[s("router-link",{attrs:{to:"/product/水草肥料"}},[s("div",{staticClass:"menu-item text-center bg-cover",style:{backgroundImage:"url("+e("7197")+")"}},[s("div",{staticClass:"layer text-dark"},[t._v("水草肥料")])])])],1)])])])],1),s("div",{staticClass:"container-fluid pt-header"},[s("HeaderTitle",{staticClass:"animated",attrs:{title:"新品到貨",icon:"fas fa-shipping-fast"}}),s("CardGroup",{staticClass:"animated",attrs:{product:t.newProduct}})],1),s("div",{staticClass:"container-fluid pt-header-m"},[s("HeaderTitle",{staticClass:"animated",attrs:{title:"熱門商品",icon:"fas fa-fire"}}),s("CardGroup",{staticClass:"animated",attrs:{product:t.hotProduct}})],1),s("div",{staticClass:"container-fluid pt-header-m"},[s("HeaderTitle",{staticClass:"animated",attrs:{title:"限時搶購",icon:"fas fa-clock"}}),s("CardGroup",{staticClass:"animated",attrs:{product:t.discountProduct}})],1)],1)},R=[],W=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"container-fluid p-0"},[s("div",{staticClass:"carousel slide carousel-fade",attrs:{id:"carouselCaptions","data-bs-ride":"carousel"}},[t._m(0),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active",attrs:{"data-bs-interval":"10000"}},[s("div",{staticClass:"header-carousel-item bg-cover",style:{backgroundImage:"url("+e("d15f")+")"}},[t._m(1)])]),t._m(2),s("div",{staticClass:"carousel-item",attrs:{"data-bs-interval":"10000"}},[s("div",{staticClass:"header-carousel-item bg-cover",style:{backgroundImage:"url("+e("5c3f")+")"},attrs:{alt:"heater"}},[t._m(3)])])]),t._m(4),t._m(5)])])])},X=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-indicators"},[e("button",{staticClass:"active",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"0","aria-current":"true","aria-label":"Slide 1"}}),e("button",{attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}}),e("button",{attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h3",{staticClass:"mt-3 mb-5 display-6"},[t._v("專業。優惠。高品質。")]),e("p",{staticClass:"h5"},[e("span",{staticClass:"d-none d-sm-block"},[t._v("飼料/底沙/魚缸/水族生物/水草/過濾設備")]),e("br"),e("span",[t._v("各式水族精選商品就在快樂水族")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-item",attrs:{"data-bs-interval":"10000"}},[e("div",{staticClass:" header-carousel-item bg-cover",staticStyle:{"background-image":"url('https://cdn.pixabay.com/photo/2015/09/28/11/40/fish-961953__340.jpg')"}},[e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h3",{staticClass:"mt-3 mb-5 display-6"},[t._v("雙11優惠季")]),e("p",{staticClass:"h5"},[e("span",[t._v("11/1~11/30 不限商品 全館8折優惠")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-caption d-flex flex-column"},[e("h3",{staticClass:"mt-3 mb-5 display-6"},[t._v("給您的魚兒暖暖的冬天")]),e("p",{staticClass:"h5"},[e("span",[t._v("水族加溫設備滿700送50")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"carousel-control-prev",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide":"prev"}},[e("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"visually-hidden"},[t._v("Previous")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"carousel-control-next",attrs:{type:"button","data-bs-target":"#carouselCaptions","data-bs-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"visually-hidden"},[t._v("Next")])])}],K={name:"Carousel"},J=K,Q=Object(d["a"])(J,W,X,!1,null,null,null),Z=Q.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",{staticClass:"text-center text-third"},[e("strong",[t._v(t._s(t.title))]),e("i",{staticClass:"ms-3",class:t.icon})]),e("div",{staticClass:"header-line"})])},at=[],et={name:"HeaderTitle",props:["title","icon"]},st=et,it=Object(d["a"])(st,tt,at,!1,null,null,null),rt=it.exports,nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row pt-3 justify-content-center"},[e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"row"},t._l(t.product,(function(a){return e("div",{key:a.title,staticClass:"col-md-4 mb-3"},[e("router-link",{attrs:{to:"/content/"+a.id}},[e("div",{staticClass:"card h-100 border-0 card-shadow"},[e("div",{staticClass:"card-img-wrapper"},[e("div",{staticClass:"view-more d-flex justify-content-center align-items-center"},[t._v(" 查看更多 ")]),e("Myfavorite",{attrs:{productID:a.link}}),e("img",{staticClass:"card-img card-img-size",attrs:{src:a.imageUrl,alt:a.title}})],1),e("div",{staticClass:"card-body"},[e("p",{staticClass:"card-title  text-third"},[e("strong",[t._v(t._s(a.title))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",{staticClass:"text-decoration-line-through text-third "},[e("small",[t._v(t._s(t._f("currency")(a.origin_price)))])]),e("strong",{staticClass:"text-alert"},[t._v(t._s(t._f("currency")(a.price))+" ")])])]),e("div",{staticClass:"card-footer border-0  p-0 bg-light"},[e("button",{staticClass:"btn rounded-0 btn-block btn-use w-100 card-btn",on:{click:function(e){return e.preventDefault(),t.AddCart(a)}}},[t._v(" 加入購物車"),e("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)})),0),e("div",{staticClass:"row text-end py-2 d-flex align-items-center"},[e("div",{staticClass:"col-12"},[e("router-link",{staticClass:"badge bg-info badge-pills text-white link-shop ",attrs:{to:"/product","exact-active-class":"active"}},[t._v(" 去逛逛"),e("i",{staticClass:"fas fa-angle-double-right ms-2 "})])],1)])])])])},ct=[],ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-favorite"},[t.favoriteItem===t.productID?e("i",{staticClass:"fas fa-heart fa-lg text-alert",attrs:{id:t.productID},on:{click:function(a){return a.preventDefault(),t.removeFavorite(a)}}}):e("i",{staticClass:"far fa-heart fa-lg text-white",attrs:{id:t.productID},on:{click:function(a){return a.preventDefault(),t.addFavorite(a)}}})])},lt=[],dt=(e("7db0"),{name:"MyFavorite",data:function(){return{favoriteItem:""}},props:["productID"],computed:Object(s["a"])({},Object(r["b"])(["favoritelist"])),methods:{getFavoriteItem:function(){var t=this,a=JSON.parse(localStorage.getItem("favorite"))||[],e=a.find((function(a){return a===t.productID}));e&&(this.favoriteItem=e)},getFavorite:function(){this.$store.dispatch("getFavorite"),this.getFavoriteItem()},addFavorite:function(){this.$store.dispatch("AddFavorite",this.productID),this.getFavoriteItem()},removeFavorite:function(){this.$store.dispatch("removeFavorite",this.productID),this.favoriteItem=""}},created:function(){this.getFavorite()}}),ut=dt,mt=Object(d["a"])(ut,ot,lt,!1,null,null,null),pt=mt.exports,vt={name:"CardGroup",props:["product"],components:{Myfavorite:pt},methods:{AddCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddTmpCart",{data:t,num:a})}},computed:Object(s["a"])({},Object(r["b"])(["loadingItem"]))},ft=vt,ht=Object(d["a"])(ft,nt,ct,!1,null,null,null),gt=ht.exports,bt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"dot-loader"},[e("span",{staticClass:"dot dot1 bg-use"}),e("span",{staticClass:"dot dot2 bg-abstract"}),e("span",{staticClass:"dot dot3 bg-warning"}),e("span",{staticClass:"dot dot4 bg-alert"})]),e("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),e("div",{staticClass:"dot-loader"},[e("span",{staticClass:"dot dot5 bg-use"}),e("span",{staticClass:"dot dot6 bg-abstract"}),e("span",{staticClass:"dot dot7 bg-warning"}),e("span",{staticClass:"dot dot8 bg-alert"})])])}],_t={name:"Loader"},yt=_t,xt=Object(d["a"])(yt,bt,Ct,!1,null,null,null),kt=xt.exports,wt=e("6542"),Ot=e("7c83"),Mt=e("8dc2"),jt={name:"Index",components:{Carousel:Z,HeaderTitle:rt,CardGroup:gt,Loader:kt},data:function(){return{newProduct:wt,hotProduct:Ot,discountProduct:Mt}},methods:{scrollEffect:function(){var t=y()(window).scrollTop(),a=y()(window).height();y()(".animated").each((function(){var e=y()(this).offset().top;a+t>=e&&y()(this).addClass("fadein")})),y()(".animated-x").each((function(){var e=y()(this).offset().top;a+t>=e&&y()(this).addClass("slidein")}))}},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"])),created:function(){window.addEventListener("scroll",this.scrollEffect),this.$store.dispatch("updateCheckoutBtn",!0)},destroyed:function(){window.removeEventListener("scroll",this.scrollEffect)}},Pt=jt,$t=Object(d["a"])(Pt,H,R,!1,null,null,null),Dt=$t.exports,Tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row justify-content-between d-flex"},[e("div",{staticClass:"col-md-3"},[e("Breadcrumb")],1),e("form",{staticClass:"col-md-3"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"商品快速搜尋"},domProps:{value:t.searchText},on:{input:function(a){a.target.composing||(t.searchText=a.target.value)}}}),e("button",{staticClass:"btn btn-use btn-hv-style",on:{click:function(a){a.preventDefault(),t.isSearch=!0,t.selectKind="",t.currentPage=0}}},[e("i",{staticClass:"fas fa-search text-third"})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"list-group rounded-0 rounded-bottom mb-3 mx-2"},[e("div",{staticClass:"row "},[t._m(1),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-12",class:{active:"所有商品"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="所有商品",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("全部")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"水草"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水草",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-seedling me-2 ps-3"}),t._v("水草")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"觀賞魚"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞魚",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v(" 觀賞魚")]),e("a",{staticClass:"list-group-item col-md-12  col-sm-4 col-6",class:{active:"觀賞蝦"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞蝦",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("觀賞蝦")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"觀賞螺"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="觀賞螺",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v("觀賞螺")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"飼料"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="飼料",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-fish me-2 ps-3"}),t._v(" 飼料")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"水質控制"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水質控制",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-tint me-2 ps-3"}),t._v(" 水質控制")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"水族用品"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水族用品",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-tint me-2 ps-3"}),t._v("水族用品")]),e("a",{staticClass:"list-group-item col-md-12 col-sm-4 col-6",class:{active:"水草肥料"===t.selectKind},on:{click:function(a){a.preventDefault(),t.selectKind="水草肥料",t.currentPage=0,t.isSearch=!1}}},[e("i",{staticClass:"fas fa-seedling me-2 ps-3"}),t._v("水草肥料")])])])]),e("div",{staticClass:"col-md-9"},[e("ProductCard",{attrs:{product:t.filterData()[t.currentPage]}}),e("nav",{staticClass:"my-3",attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination justify-content-center product-pagination"},t._l(t.filterData().length,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.currentPage===a-1}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage=a-1}}},[t._v(t._s(a))])])})),0)])],1)])])],1)},Et=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-header bg-cover d-flex justify-content-center align-items-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1509016068623-286b408eb841?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTExfHxmaXNoJTIwdGFua3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[e("h2",{staticClass:"img-header-title"},[e("strong",[t._v("商品一覽")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",{staticClass:"col-md-12 py-3 bg-primary bg-gradient border border-2 text-third mb-0 text-center rounded-top"},[e("strong",[e("i",{staticClass:"fas fa-frog me-2"}),t._v("商品類別")])])}],Lt=(e("99af"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},t._l(t.product,(function(a){return e("div",{key:a.id,staticClass:"col-md-6 col-sm-6 mb-4"},[e("router-link",{attrs:{to:"/content/"+a.id}},[e("div",{staticClass:"card h-100 card-shadow border-0"},[e("div",{staticClass:"card-img-wrapper"},[e("div",{staticClass:"view-more d-flex justify-content-center align-items-center"},[t._v(" 查看更多 ")]),e("Myfavorite",{attrs:{productID:a.id}}),e("img",{staticClass:"card-img card-img-size",attrs:{src:a.imageUrl,alt:a.title}})],1),e("div",{staticClass:"card-body pb-1"},[e("p",{staticClass:"card-title  text-third mb-0"},[e("strong",[t._v(t._s(a.title))])]),e("p",{staticClass:"text-third mb-1 card-description"},[e("small",[t._v(t._s(a.description))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",{staticClass:"text-decoration-line-through text-third "},[e("small",[t._v(t._s(t._f("currency")(a.origin_price)))])]),e("strong",{staticClass:"text-alert"},[t._v("NT "+t._s(t._f("currency")(a.price))+" ")])])]),e("div",{staticClass:"card-footer border-0 p-0 bg-light"},[e("button",{staticClass:"btn rounded-0 btn-block btn-use w-100 card-btn",on:{click:function(e){return e.preventDefault(),t.addToCart(a)}}},[t._v(" 加入購物車"),e("i",{staticClass:"ms-2 fas fa-cart-plus "}),t.loadingItem===a?e("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)})),0)])}),St=[],At={name:"ProductCard",props:["product"],components:{Myfavorite:pt},methods:{addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddTmpCart",{data:t,num:a})}},computed:Object(s["a"])({},Object(r["b"])(["loadingItem"]))},It=At,qt=Object(d["a"])(It,Lt,St,!1,null,null,null),Nt=qt.exports,Ft=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"breadcrumb"},[e("ul",t._l(t.breadcrumbList,(function(a,s){return e("li",{key:s,class:{linked:!!a.link},on:{click:function(a){return t.routeTo(s)}}},[t._v(" "+t._s(a.name)+" ")])})),0)])},Yt=[],Bt=(e("9911"),{name:"Breadcrumb",data:function(){return{breadcrumbList:[]}},mounted:function(){this.updateBreadcrumbList()},watch:{$route:function(){this.updateList()}},methods:{routeTo:function(t){this.breadcrumbList[t].link&&this.$router.push(this.breadcrumbList[t].link)},updateBreadcrumbList:function(){this.breadcrumbList=this.$route.meta.breadcrumb}}}),Vt=Bt,Ut=(e("cb3a"),Object(d["a"])(Vt,Ft,Yt,!1,null,"c6cc43c2",null)),zt=Ut.exports,Gt={name:"Product",components:{ProductCard:Nt,Breadcrumb:zt,Loader:kt},data:function(){return{products:[],selectKind:"所有商品",isSearch:!1,searchText:"",currentPage:0}},methods:{getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/products/all");t.$store.dispatch("updatedLoading",!0),t.$http.get(a).then((function(a){a.data.success?t.products=a.data.products:t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},filterData:function(){var t=this,a=[];a=""===t.selectKind&&!1===t.isSearch||"所有商品"===t.selectKind||""===t.searchText&&!0===t.isSearch?t.products:this.isSearch?t.products.filter((function(a){return a.title.indexOf(t.searchText)>-1})):t.products.filter((function(a){return a.category===t.selectKind}));var e=[];return a.forEach((function(t,a){a%6===0&&e.push([]);var s=parseInt(a/6);e[s].push(t)})),e}},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"])),created:function(){var t=this.$route.params.kind;t&&(this.selectKind=t),this.getProduct(),this.$store.dispatch("updateCheckoutBtn",!0)}},Ht=Gt,Rt=Object(d["a"])(Ht,Tt,Et,!1,null,null,null),Wt=Rt.exports,Xt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"container-fluid py-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("Breadcrumb")],1)]),e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"col-md-6"},[e("form",{staticClass:"pt-2 pb-5",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[t._m(1),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control bg-light text-third",attrs:{type:"email",placeholder:"電子郵件",id:"floatingInput"},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("電子郵件")])]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control bg-light text-third",attrs:{type:"password",placeholder:"密碼",id:"floatingPassword",autocomplete:"on"},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),e("label",{attrs:{for:"floatingPassword"}},[t._v("密碼")])]),e("button",{staticClass:"w-100 btn btn-lg btn-use btn-hv-style fw-bold",attrs:{type:"submit"}},[t._v("登入")])])])])])],1)},Kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-header bg-cover d-flex justify-content-center align-items-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1599488615731-7e5c2823ff28?ixid=MnwxMjA3fDB8MHxzZWFyY2h8OTZ8fGZpc2glMjBhcXVhcml1bXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[e("h2",{staticClass:"img-header-title"},[e("strong",[t._v("管理員登入")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center pb-3"},[e("div",{staticClass:"dot-group"},[e("span",{staticClass:"dot dot1 bg-use"}),e("span",{staticClass:"dot dot2 bg-abstract"}),e("span",{staticClass:"dot dot3 bg-warning"}),e("span",{staticClass:"dot dot4 bg-alert"})]),e("i",{staticClass:"fas fa-fish text-primary me-2 fa-3x"}),e("div",{staticClass:"dot-group"},[e("span",{staticClass:"dot dot5 bg-use"}),e("span",{staticClass:"dot dot6 bg-abstract"}),e("span",{staticClass:"dot dot7 bg-warning"}),e("span",{staticClass:"dot dot8 bg-alert"})])])}],Jt={name:"Login",data:function(){return{user:{username:"",password:""}}},components:{Breadcrumb:zt,Loader:kt},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"])),methods:{signin:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/admin/signin");t.$store.dispatch("updatedLoading",!0),t.$http.post(a,t.user).then((function(a){if(a.data.success){var e=a.data.token,s=a.data.expired;document.cookie="hexToken=".concat(e,";expires=").concat(new Date(s),";"),t.$store.dispatch("updatedLoading",!1),t.$store.dispatch("getLoginStatus",!0),t.$router.push("/admin/dashboard")}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("getLoginStatus",!1),t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}},created:function(){this.$store.dispatch("updateCheckoutBtn",!0)}},Qt=Jt,Zt=Object(d["a"])(Qt,Xt,Kt,!1,null,null,null),ta=Zt.exports,aa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-3"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("Breadcrumb")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"bg-cover content-img mb-3",style:{backgroundImage:"url("+t.Product.imageUrl+")"}},[e("Myfavorite",{attrs:{productID:t.productId}})],1)]),e("div",{staticClass:"col-md-6"},[e("h1",{staticClass:"h3 fw-bold"},[t._v(t._s(t.Product.title))]),e("div",{staticClass:"d-flex py-3 align-items-center"},[e("span",{staticClass:"text-decoration-line-through text-third me-3"},[t._v(" NT $"+t._s(t.Product.origin_price))]),e("strong",{staticClass:"h3 fw-bold text-alert"},[t._v("NT $"+t._s(t.Product.price)+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"input-group mb-3"},[e("button",{staticClass:"btn btn-third",attrs:{type:"button",id:"minus"},on:{click:function(a){return a.preventDefault(),t.minusQuantity(a)}}},[e("strong",{staticClass:"h4"},[t._v("−")])]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{change:t.VerifyNumber,input:function(a){a.target.composing||(t.quantity=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("button",{staticClass:"btn btn-third",attrs:{type:"button",id:"plus"},on:{click:function(a){return a.preventDefault(),t.addQuantity(a)}}},[e("strong",{staticClass:"h4"},[t._v("+")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"my-2 btn btn-block btn-use btn-hv-style w-100 ",on:{click:function(a){return a.preventDefault(),t.addToCart(t.Product,t.quantity)}}},[t._v(" 加入購物車"),e("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===t.Product.id?e("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])]),e("hr",{staticClass:"my-3"}),e("div",{staticClass:"row text-third "},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-4"},[t._m(0),e("p",{staticClass:"py-2"},[t._v(t._s(t.Product.description))])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-4"},[t._m(1),e("p",{staticClass:"py-2"},[e("pre",[t._v(t._s(t.Product.content))])])])])]),t._m(2),e("div",{staticClass:"row"},[t.RelativeProduct.length>0?e("h3",[e("i",{staticClass:"fas fa-leaf me-2"}),t._v("看看類似商品")]):t._e(),t._l(t.RelativeProduct,(function(a){return e("div",{key:a.id,staticClass:"col-md-3 mb-3"},[e("router-link",{attrs:{to:"/content/"+a.id,target:"_blank"}},[e("div",{staticClass:"card h-100 card-shadow border-0"},[e("div",{staticClass:"card-img-wrapper"},[e("div",{staticClass:"view-more d-flex justify-content-center align-items-center"},[t._v("查看更多")]),e("Myfavorite",{attrs:{productID:a.id}}),e("img",{staticClass:"card-img card-img-size",attrs:{src:a.imageUrl,alt:a.title}})],1),e("div",{staticClass:"card-body"},[e("p",{staticClass:"card-title  text-third"},[e("strong",[t._v(t._s(a.title))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",{staticClass:"text-decoration-line-through text-third "},[e("small",[t._v("NT $"+t._s(t._f("currency")(a.origin_price)))])]),e("strong",{staticClass:"text-alert"},[t._v("NT "+t._s(t._f("currency")(a.price))+" ")])])]),e("div",{staticClass:"card-footer border-0 p-0 bg-light"},[e("button",{staticClass:"btn rounded-0 btn-block btn-use w-100 card-btn",on:{click:function(e){return e.preventDefault(),t.addToCart(a)}}},[t._v(" 加入購物車"),e("i",{staticClass:"ms-2 fas fa-cart-plus"}),t.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin ms-2"}):t._e()])])])])],1)}))],2)])],1)},ea=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",[e("i",{staticClass:"fas fa-info-circle me-2"}),t._v("商品特色")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",[e("i",{staticClass:"fas fa-feather-alt me-2"}),t._v("商品內容")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-4"},[e("h3",[e("i",{staticClass:"fas fa-exclamation-circle me-2"}),t._v("購物須知")]),e("p",{staticClass:"py-2"},[t._v(" 一般商品可選擇超商取貨付款，商品出貨時間為3-5天，若購買活體則一律黑貓寄送，商品出貨時間為1-2天。 "),e("br")])])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-4"},[e("h3",[e("i",{staticClass:"fas fa-box-open me-2"}),t._v("退換貨須知")]),e("p",{staticClass:"py-2"},[t._v(" 一般商品可退換貨，需保留發票與完好未下水商品，由超商寄回。活體則一律不做退換， 若有活體死亡，請於收件後60分鐘內拍照回傳，拍照需包含未拆封的原始魚袋完整包裝 "),e("br")])])])])}],sa=(e("a630"),e("3ca3"),e("fb6a"),{name:"Content",data:function(){return{Product:{},RelativeProduct:[],productId:"",quantity:1,min:1,max:20}},components:{Breadcrumb:zt,Myfavorite:pt,Loader:kt},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible","loadingItem"])),methods:{getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/product/").concat(this.productId);t.$store.dispatch("updatedLoading",!0),t.$http.get(a).then((function(a){a.data.success?t.Product=Object(s["a"])({},a.data.product):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).then((function(){t.getRelativeProduct()})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},addQuantity:function(){this.quantity<20&&this.quantity++},minusQuantity:function(){this.quantity>1&&this.quantity--},VerifyNumber:function(){this.quantity>this.max&&(this.quantity=this.max),this.quantity<this.min&&(this.quantity=this.min)},getRelativeProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/products/all");t.$http.get(a).then((function(a){if(a.data.success){var e=a.data.products;t.RelativeProduct=e.filter((function(a,e){return a.category.indexOf(t.Product.category)>-1&&a.title!==t.Product.title})),t.RelativeProduct=Array.from(t.RelativeProduct.slice(0,4))}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"});t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddTmpCart",{data:t,num:a})}},created:function(){this.productId=this.$route.params.contentId,this.getProduct(),this.$store.dispatch("updateCheckoutBtn",!0)}}),ia=sa,ra=Object(d["a"])(ia,aa,ea,!1,null,null,null),na=ra.exports,ca=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Alert"),e("nav",{staticClass:"navbar navbar-main navbar-expand-md navbar-light bg-gradient navbar-dark bg-dark"},[e("div",{staticClass:"d-flex"},[e("router-link",{staticClass:"ms-3 navbar-brand order-2 order-md-1",attrs:{to:"/admin/dashboard"}},[e("i",{staticClass:"fas fa-fish text-primary me-2 fa-lg"}),e("strong",{staticClass:"text-info"},[t._v("快樂水族")])]),e("button",{staticClass:"btn order-1 order-md-2 text-white",on:{click:function(a){t.isOpen=!t.isOpen}}},[e("i",{staticClass:"fas fa-bars"})])],1),e("a",{staticClass:"ms-auto text-white pb-0 pe-5",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出")])]),e("div",{staticClass:"container-fluid"},[e("div",{},[e("Sidebar",{attrs:{open:t.isOpen},on:{closeNav:function(a){t.isOpen=!1}}}),e("main",{staticClass:"dashboard-main",class:{open:!0===t.isOpen,close:!1===t.isOpen}},[e("router-view"),e("ScrollToTop")],1)],1)])],1)},oa=[],la=(e("ac1f"),e("5319"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4 col-lg-3 g-0 col-sm-6"},[e("nav",{staticClass:"bg-gradient sidebar h-100",class:{open:t.open,close:!t.open},attrs:{id:"sidebarMenu"}},[e("div",{staticClass:"position-sticky"},[e("ul",{staticClass:"nav flex-column"},[t._m(0),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/dashboard"}},[e("i",{staticClass:"fas fa-home me-2"}),t._v("首頁 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/order"}},[e("i",{staticClass:"fas fa-truck  me-2"}),t._v("訂單管理 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/productManage"}},[e("i",{staticClass:"fas fa-shopping-cart me-2"}),t._v("商品管理 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"fas fa-tags me-2"}),t._v(" 優惠卷管理 ")])],1)]),t._m(1),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/reportDay"}},[e("i",{staticClass:"fas fa-sticky-note me-2"}),t._v("本日 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/reportWeek"}},[e("i",{staticClass:"fas fa-sticky-note me-2"}),t._v("本周 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/admin/reportMonth"}},[e("i",{staticClass:"fas fa-sticky-note me-2"}),t._v("本月 ")])],1)])])])])}),da=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"sidebar-heading h5 text-white"},[e("i",{staticClass:"fas fa-pencil-alt me-2"}),t._v("管理選單 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-white"},[e("span",[e("i",{staticClass:"fas fa-piggy-bank me-2"}),t._v("銷售報表")])])}],ua={name:"Sidebar",props:["open"],methods:{closeMenu:function(){this.$emit("closeNav")}}},ma=ua,pa=Object(d["a"])(ma,la,da,!1,null,null,null),va=pa.exports,fa={name:"Dashboard",data:function(){return{isOpen:!0}},components:{Sidebar:va,Alert:A,ScrollToTop:B},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),a=this;this.$http.post(t).then((function(t){t.data.success&&(a.$store.dispatch("getLoginStatus",!1),a.$router.push("/login"))}))}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},ha=fa,ga=Object(d["a"])(ha,ca,oa,!1,null,null,null),ba=ga.exports,Ca=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5 pb-3"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),e("div",{staticClass:"row py-4"},[e("DisplayBox",{attrs:{count:t.filterToday.length,title:"本日訂單",bg:"bg-use"},on:{showModal:t.openTodayModel}}),e("DisplayBox",{attrs:{count:t.filterWeek.length,title:"本周訂單",bg:"bg-warning"},on:{showModal:t.openWeekModel}}),e("DisplayBox",{attrs:{count:t.filterMonth.length,title:"本月訂單",bg:"bg-primary"},on:{showModal:t.openMonthModel}})],1),e("div",{staticClass:"row "},[e("div",{staticClass:"d-flex justify-content-between"},[e("h5",[t._v("訂單銷售一覽")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.chartDataType,expression:"chartDataType"}],staticClass:"form-select form-select-sm time-select",attrs:{"aria-label":"select"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.chartDataType=a.target.multiple?e:e[0]}}},[e("option",{attrs:{selected:"",value:"week"}},[t._v("本周")]),e("option",{attrs:{value:"year"}},[t._v("年度")])])]),e("div",{staticClass:"col-md-6 py-2"},[e("canvas",{directives:[{name:"show",rawName:"v-show",value:"week"===t.chartDataType,expression:"chartDataType === 'week'"}],staticClass:"bg-light",attrs:{id:"weekLineChart"}}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:"year"===t.chartDataType,expression:"chartDataType === 'year'"}],staticClass:"bg-light",attrs:{id:"monthLineChart"}})]),e("div",{staticClass:"col-md-6 py-2"},[e("canvas",{directives:[{name:"show",rawName:"v-show",value:"week"===t.chartDataType,expression:"chartDataType === 'week'"}],staticClass:"bg-light",attrs:{id:"weekSalesChart"}}),e("canvas",{directives:[{name:"show",rawName:"v-show",value:"year"===t.chartDataType,expression:"chartDataType === 'year'"}],staticClass:"bg-light",attrs:{id:"MonthSalesChart"}})])]),e("div",{staticClass:"board row py-3"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"bg-lightgray infoCard-shadow m-3 p-3 text-center rounded"},[e("h5",[t._v("訂單總計")]),e("strong",{staticClass:"text-alert infoCard-title"},[t._v(t._s(t.ordersAll.length))])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"bg-lightgray infoCard-shadow m-3 p-3 text-center rounded"},[e("h5",[t._v("年度銷售額")]),e("strong",{staticClass:"text-abstract infoCard-title"},[t._v(t._s(t._f("currency")(t.profitYear)))])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"bg-lightgray infoCard-shadow m-3 p-3 text-center rounded"},[e("h5",[t._v("本周銷售額")]),e("strong",{staticClass:"text-use infoCard-title"},[t._v(t._s(t._f("currency")(t.weekProfit)))])])])]),e("div",{staticClass:"modal fade",attrs:{id:"DisplayBoxModal",tabindex:"-1","aria-labelledby":"DisplayBoxModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl  modal-dialog-scrollable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-abstract text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"DisplayBoxModalLabel"}},[t._v(" "+t._s(t.ModalTitle)+" ")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[t.currentFilterDay.length>0?e("table",{staticClass:"table table-striped"},[t._m(0),e("tbody",t._l(t.currentFilterDay,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.TrnasformDate(a.create_at)))]),e("td",[e("ul",{staticClass:"pl-0"},t._l(a.products,(function(a){return e("li",{key:a.id},[t._v(" "+t._s(a.product.title)+" "+t._s(a.qty)+" "+t._s(a.product.unit)+" ")])})),0)]),e("td",[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])])])})),0)]):e("div",[t._v("尚無訂單")])])])])])],1)},_a=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("購買時間")]),e("th",[t._v("購買內容")]),e("th",[t._v("應付金額")]),e("th",[t._v("狀態")])])])}],ya=e("2909"),xa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4 col-sm-4 mb-3"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.showModalDialog(a)}}},[e("div",{staticClass:"text-center py-2 rounded text-dark bg-gradient display-box",class:t.bg},[e("h5",{staticClass:"display-7"},[t._v(t._s(t.title))]),e("p",{staticClass:"display-6 mb-0"},[t._v(t._s(t.count))]),t._m(0)])])])},ka=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("small",[t._v("查看訂單"),e("i",{staticClass:"far fa-hand-point-right ms-2"})])}],wa={name:"DisplayBox",props:["bg","title","count"],methods:{showModalDialog:function(){this.$emit("showModal")}}},Oa=wa,Ma=Object(d["a"])(Oa,xa,ka,!1,null,null,null),ja=Ma.exports,Pa=e("7b17"),$a=e("c1df"),Da=e.n($a),Ta=e("9b4a");Ta["a"].register.apply(Ta["a"],Object(ya["a"])(Ta["b"]));var Ea={name:"DashboardIndex",data:function(){return{ordersAll:[],chartOrders:[],chartTotals:[],chartLabels:[],chartDataType:"week",DisplayBoxModal:null,ModalTitle:"",currentFilterDay:[],profitYear:0,weekProfit:0,chart:null}},components:{DisplayBox:ja,Loader:kt},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"])),{},{filterToday:function(){var t=[],a=new Date,e="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());return t=this.ordersAll.filter((function(t){var a=new Date(1e3*t.create_at),s="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());return e===s})),t},filterWeek:function(){var t=[],a=Da()().startOf("week"),e=Da()().endOf("week");return t=this.ordersAll.filter((function(t){return Da()(1e3*t.create_at).isBetween(a,e)})),t},filterMonth:function(){var t=[],a=Da()().startOf("month"),e=Da()().endOf("month");return t=this.ordersAll.filter((function(t){return Da()(1e3*t.create_at).isBetween(a,e)})),t}}),methods:{TrnasformDate:function(t){var a=new Date(1e3*t),e="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes());return e},getOrderAll:function(){var t=this,a=0,e=1,s=[],i=1,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.$store.dispatch("updatedLoading",!0),t.$http.get(r).then((function(a){if(a.data.success){s=a.data.orders,e=a.data.pagination.total_pages;for(var r=2;r<e+1;r++){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(r);t.$http.get(n).then((function(a){a.data.success?(s=[].concat(Object(ya["a"])(s),Object(ya["a"])(a.data.orders)),i+=1):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).then((function(){i===e&&(t.ordersAll=s,t.getWeekOrder(),t.setMonthsChart())})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},getWeekOrder:function(){var t=Da()().startOf("week"),a=Da()().endOf("week");this.chartOrders=this.ordersAll.filter((function(e){return Da()(1e3*e.create_at).isBetween(t,a)})),this.setWeekChart()},setWeekChart:function(){var t=Da()().startOf("week"),a=Da()().endOf("week"),e=Da()(t,["YYYY/MM/DD"]),s=Da()(t).add(1,"days").format("YYYY/MM/DD"),i=Da()(t).add(2,"days").format("YYYY/MM/DD"),r=Da()(t).add(3,"days").format("YYYY/MM/DD"),n=Da()(t).add(4,"days").format("YYYY/MM/DD"),c=Da()(t).add(5,"days").format("YYYY/MM/DD"),o=Da()(a,["YYYY/MM/DD"]),l=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===e})),d=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===s})),u=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===i})),m=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===r})),p=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===n})),v=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===c})),f=this.chartOrders.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM/DD");return a===o}));this.chartLabels=["週日","周一","週二","週三","週四","週五","週六"],this.chartTotals=[l.length,d.length,u.length,m.length,p.length,v.length,f.length],this.setChart("weekLineChart","bar","銷售量","rgba(69, 120, 252, 0.6)","rgba(69, 120, 252, 0.7)");var h=0,g=0,b=0,C=0,_=0,y=0,x=0;l.forEach((function(t){h+=t.total})),d.forEach((function(t){g+=t.total})),u.forEach((function(t){b+=t.total})),m.forEach((function(t){C+=t.total})),p.forEach((function(t){_+=t.total})),v.forEach((function(t){y+=t.total})),f.forEach((function(t){x+=t.total})),this.weekProfit=h+x+y+_+C+b+g,this.chartTotals=[h,g,b,C,_,y,x],this.setChart("weekSalesChart","line","銷售額","rgba(63, 191, 127, 0.6)","rgba(63, 191, 127, 0.7)")},setMonthsChart:function(){var t=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/01")})),a=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/02")})),e=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/03")})),s=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/04")})),i=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/05")})),r=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/06")})),n=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/07")})),c=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/08")})),o=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/09")})),l=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/10")})),d=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/11")})),u=this.ordersAll.filter((function(t){var a=Da()(1e3*t.create_at).format("YYYY/MM");return a==="".concat(Da()().year(),"/12")}));this.chartLabels=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],this.chartTotals=[t.length,a.length,e.length,s.length,i.length,r.length,n.length,c.length,o.length,l.length,d.length,u.length],this.setChart("monthLineChart","bar","銷售量","rgba(247, 142, 38, 0.6)","rgba(247, 142, 38, 0.7)");var m=0,p=0,v=0,f=0,h=0,g=0,b=0,C=0,_=0,y=0,x=0,k=0;t.forEach((function(t){p+=t.total})),a.forEach((function(t){v+=t.total})),e.forEach((function(t){f+=t.total})),s.forEach((function(t){h+=t.total})),i.forEach((function(t){g+=t.total})),r.forEach((function(t){b+=t.total})),n.forEach((function(t){m+=t.total})),c.forEach((function(t){C+=t.total})),o.forEach((function(t){_+=t.total})),l.forEach((function(t){y+=t.total})),d.forEach((function(t){x+=t.total})),u.forEach((function(t){k+=t.total})),this.profitYear=p+v+f+h+g+b+m+C+_+y+x+k,this.chartTotals=[p,v,f,h,g,b,m,C,_,y,x,k],this.setChart("MonthSalesChart","line","銷售額","rgba(127, 63, 191, 0.6)","rgba(127, 63, 191, 0.7)")},setChart:function(t,a,e,s,i){var r=document.getElementById(t).getContext("2d"),n={type:a,data:{labels:this.chartLabels,datasets:[{label:e,backgroundColor:s,borderColor:i,data:this.chartTotals,fill:!1}]},options:{responsive:!0}};this.chart=new Ta["a"](r,n)},openTodayModel:function(){this.currentFilterDay=Array.from(this.filterToday),this.ModalTitle="本日訂單",this.DisplayBoxModal.show()},openWeekModel:function(){this.currentFilterDay=Array.from(this.filterWeek),this.ModalTitle="本周訂單",this.DisplayBoxModal.show()},openMonthModel:function(){this.currentFilterDay=Array.from(this.filterMonth),this.ModalTitle="本月訂單",this.DisplayBoxModal.show()}},created:function(){this.getOrderAll(),Da()().format(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.DisplayBoxModal=new Pa["Modal"](document.getElementById("DisplayBoxModal"))}},La=Ea,Sa=Object(d["a"])(La,Ca,_a,!1,null,null,null),Aa=Sa.exports,Ia=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"text-end py-3"},[e("button",{staticClass:"btn btn-info text-white",attrs:{"data-toggle":"modal"},on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新產品"),e("i",{staticClass:"fas fa-plus ms-2"})])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.category))]),e("td",[t._v(t._s(a.title))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.price)))]),e("td",[a.is_enabled?e("span",[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(e){return t.openModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-alert btn-sm",on:{click:function(e){return e.preventDefault(),t.openModalDelete(a)}}},[t._v("刪除")])])])})),0)]),0!==t.products.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("請新增產品")])])]),e("Pagination",{attrs:{pagination:t.pagination},on:{getData:t.getProducts}}),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.currentProduct.title))]),t._v("?"),e("br"),t._v(" 商品(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v("確認刪除")])])])])]),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("div",{staticClass:"modal fade",attrs:{id:"AddNewModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-abstract text-white bg-gradient"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.modaltitle)),e("i",{staticClass:"ms-2 fas fa-pencil-alt"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"row g-3"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"title"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.title,expression:"currentProduct.title"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"標題",id:"title",placeholder:"請輸入標題"},domProps:{value:t.currentProduct.title},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"title",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"category"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("分類")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.category,expression:"currentProduct.category"}],staticClass:"form-select",class:i,attrs:{name:"分類",id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.currentProduct,"category",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"水草"}},[t._v("水草")]),e("option",{attrs:{value:"觀賞魚"}},[t._v("觀賞魚")]),e("option",{attrs:{value:"觀賞蝦"}},[t._v("觀賞蝦")]),e("option",{attrs:{value:"觀賞螺"}},[t._v("觀賞螺")]),e("option",{attrs:{value:"飼料"}},[t._v("飼料")]),e("option",{attrs:{value:"水質控制"}},[t._v("水質控制")]),e("option",{attrs:{value:"水族用品"}},[t._v("水族用品")]),e("option",{attrs:{value:"水草肥料"}},[t._v("水草肥料")])]),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"unit"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.unit,expression:"currentProduct.unit"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"單位",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.currentProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"unit",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"origin_price"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.origin_price,expression:"currentProduct.origin_price"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"原價",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.currentProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"origin_price",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"price"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.price,expression:"currentProduct.price"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"售價",id:"price",placeholder:"請輸入售價"},domProps:{value:t.currentProduct.price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"price",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"image"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.imageUrl,expression:"currentProduct.imageUrl"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"圖片",id:"image",placeholder:"請輸入圖片連結或上傳圖片"},domProps:{value:t.currentProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"imageUrl",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileuploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadImage}}),e("img",{staticClass:"product-img",attrs:{src:t.currentProduct.imageUrl}})]),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"description"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.description,expression:"currentProduct.description"}],staticClass:"form-control",class:i,attrs:{name:"產品描述",id:"description",rows:"9",placeholder:"請輸入產品描述"},domProps:{value:t.currentProduct.description},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"description",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"content"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.content,expression:"currentProduct.content"}],staticClass:"form-control",class:i,attrs:{name:"說明內容",id:"content",rows:"10",placeholder:"請輸入產品說明內容"},domProps:{value:t.currentProduct.content},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"content",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.is_enabled,expression:"currentProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentProduct.is_enabled)?t._i(t.currentProduct.is_enabled,null)>-1:t._q(t.currentProduct.is_enabled,1)},on:{change:function(a){var e=t.currentProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.currentProduct,"is_enabled",e.concat([r])):n>-1&&t.$set(t.currentProduct,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.currentProduct,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-abstract text-white",attrs:{type:"button",disabled:s},on:{click:t.updateProduct}},[t._v("確認")])])])])])]}}])}),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("div",{staticClass:"modal fade",attrs:{id:"UpdateModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-abstract text-white bg-gradient"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.modaltitle)),e("i",{staticClass:"ms-2 fas fa-pencil-alt"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"row g-3"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"title"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.title,expression:"currentProduct.title"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"標題",id:"title",placeholder:"請輸入標題"},domProps:{value:t.currentProduct.title},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"title",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"category"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("分類")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.category,expression:"currentProduct.category"}],staticClass:"form-select",class:i,attrs:{name:"分類",id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.currentProduct,"category",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"水草"}},[t._v("水草")]),e("option",{attrs:{value:"觀賞魚"}},[t._v("觀賞魚")]),e("option",{attrs:{value:"觀賞蝦"}},[t._v("觀賞蝦")]),e("option",{attrs:{value:"觀賞螺"}},[t._v("觀賞螺")]),e("option",{attrs:{value:"飼料"}},[t._v("飼料")]),e("option",{attrs:{value:"水質控制"}},[t._v("水質控制")]),e("option",{attrs:{value:"水族用品"}},[t._v("水族用品")]),e("option",{attrs:{value:"水草肥料"}},[t._v("水草肥料")])]),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"unit"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.unit,expression:"currentProduct.unit"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"單位",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.currentProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"unit",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"origin_price"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.origin_price,expression:"currentProduct.origin_price"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"原價",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.currentProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"origin_price",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"price"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.price,expression:"currentProduct.price"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"售價",id:"price",placeholder:"請輸入售價"},domProps:{value:t.currentProduct.price},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"price",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"image"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.imageUrl,expression:"currentProduct.imageUrl"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"圖片",id:"image",placeholder:"請輸入圖片連結或上傳圖片"},domProps:{value:t.currentProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"imageUrl",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileuploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadImage}}),e("img",{staticClass:"product-img",attrs:{src:t.currentProduct.imageUrl}})]),e("div",{staticClass:"col-md-6"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"description"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.description,expression:"currentProduct.description"}],staticClass:"form-control",class:i,attrs:{name:"產品描述",id:"description",rows:"9",placeholder:"請輸入產品描述"},domProps:{value:t.currentProduct.description},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"description",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"content"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.content,expression:"currentProduct.content"}],staticClass:"form-control",class:i,attrs:{name:"說明內容",id:"content",rows:"10",placeholder:"請輸入產品說明內容"},domProps:{value:t.currentProduct.content},on:{input:function(a){a.target.composing||t.$set(t.currentProduct,"content",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProduct.is_enabled,expression:"currentProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentProduct.is_enabled)?t._i(t.currentProduct.is_enabled,null)>-1:t._q(t.currentProduct.is_enabled,1)},on:{change:function(a){var e=t.currentProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.currentProduct,"is_enabled",e.concat([r])):n>-1&&t.$set(t.currentProduct,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.currentProduct,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-abstract text-white",attrs:{type:"button",disabled:s},on:{click:t.updateProduct}},[t._v("確認")])])])])])]}}])})],1)},qa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("商品管理"),e("i",{staticClass:"fas fa-shopping-cart ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"border-bottom-2"},[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",[t._v("產品名稱")]),e("th",{attrs:{width:"60"}},[t._v("原價")]),e("th",{attrs:{width:"60"}},[t._v("售價")]),e("th",{attrs:{width:"120"}},[t._v("是否啟用")]),e("th",{attrs:{width:"120"}},[t._v("編輯")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger bg-gradient"},[e("h5",{staticClass:"modal-title text-white"},[t._v("刪除商品"),e("i",{staticClass:"fas fa-trash-alt ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],Na=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination manage-pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},Fa=[],Ya={name:"Pagination",props:["pagination"],methods:{getProducts:function(t){this.$emit("getData",t)}}},Ba=Ya,Va=Object(d["a"])(Ba,Na,Fa,!1,null,null,null),Ua=Va.exports,za={name:"ProductManage",data:function(){return{products:[],currentProduct:{},isNew:!1,pagination:{},status:{fileuploading:!1},modaltitle:"",modalDelete:null,modalUpdate:null,modalAdd:null}},components:{Pagination:Ua,Loader:kt},methods:{openModal:function(t,a){t?(this.currentProduct={},this.currentProduct.category="水草",this.isNew=!0,this.modaltitle="新增商品",this.modalAdd.show()):(this.currentProduct=Object(s["a"])({},a),this.isNew=!1,this.modaltitle="編輯商品",this.modalUpdate.show())},openModalDelete:function(t){this.currentProduct=Object(s["a"])({},t),this.modalDelete.show()},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/products?page=").concat(t);a.$store.dispatch("updatedLoading",!0),a.$http.get(e).then((function(t){t.data.success?(a.products=t.data.products,a.pagination=t.data.pagination):a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){a.$store.dispatch("updateMessage",{message:t,status:"danger"})}))},deleteProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product/").concat(this.currentProduct.id);t.$store.dispatch("updatedLoading",!0),t.$http.delete(a).then((function(a){a.data.success?(t.modalDelete.hide(),t.getProducts()):(t.modalDelete.hide(),t.getProducts(),t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})),t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},uploadImage:function(){var t=this,a=this.$refs.files.files[0];t.status.fileuploading=!0;var e=new FormData;e.append("file-to-upload",a);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/upload");t.$http.post(s,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){a.data.success?t.$set(t.currentProduct,"imageUrl",a.data.imageUrl):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.status.fileuploading=!1,document.getElementById("customFile").value=""})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},updateProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product"),e="post";t.$store.dispatch("updatedLoading",!0),t.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/product/").concat(t.currentProduct.id),e="put"),t.$http[e](a,{data:t.currentProduct}).then((function(a){a.data.success?(t.modalUpdate.hide(),t.getProducts()):(t.modalUpdate.hide(),t.getProducts(),t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})),t.$store.dispatch("updatedLoading",!0)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"])),created:function(){this.getProducts(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.modalDelete=new Pa["Modal"](document.getElementById("delProductModal")),this.modalAdd=new Pa["Modal"](document.getElementById("AddNewModal")),this.modalUpdate=new Pa["Modal"](document.getElementById("UpdateModal"))}},Ga=za,Ha=Object(d["a"])(Ga,Ia,qa,!1,null,null,null),Ra=Ha.exports,Wa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("Breadcrumb")],1)]),e("div",{staticClass:"row justify-content-center "},[e("div",{staticClass:"col-md-6"},[e("CheckoutFlow",{attrs:{step:1}})],1),e("div",{staticClass:"content-striped"},t._l(t.tmpCart,(function(a){return e("div",{key:a.id,staticClass:"row py-3 align-items-center"},[e("div",{staticClass:"col-6 col-sm-4 col-md-4 col-lg-3"},[e("img",{staticClass:"cart-img",attrs:{src:a.imageUrl,alt:"item.product.title"}})]),e("div",{staticClass:"col-6 col-sm-8 col-md-8 col-lg-9"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-5 col-sm-5 col-12"},[t._v(" "+t._s(a.title)+" "),e("br"),t._v(t._s(t._f("currency")(a.price))+" ")]),e("div",{staticClass:"col-md-5 col-sm-5 col-10"},[e("div",{staticClass:"input-group input-group-sm mb-3"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"minus"},on:{click:function(e){return e.preventDefault(),t.minusQuantity(a)}}},[e("strong",{staticClass:"h4"},[t._v("−")])]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.qty,expression:"item.qty",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:a.qty},on:{change:function(e){return t.verifyNumber(a)},input:function(e){e.target.composing||t.$set(a,"qty",t._n(e.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"plus"},on:{click:function(e){return e.preventDefault(),t.addQuantity(a)}}},[e("strong",{staticClass:"h4"},[t._v("+")])])])]),e("div",{staticClass:"col-md-2 col-sm-2 col-2"},[e("button",{staticClass:"btn py-0 text-third",on:{click:function(e){return t.deleteTmpCartItem(a.id)}}},[e("i",{staticClass:"fas fa-trash-alt"})])])])])])})),0),e("div",{staticClass:"row"},[t.tmpCart.length>0?e("div",{staticClass:"d-flex justify-content-end py-2 mt-3 border-top h5"},[e("div",{staticClass:"me-4"},[t._v("總計")]),e("div",[t._v(t._s(t._f("currency")(t.tmpTotal)))])]):t._e()]),t.tmpCart.length>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-end"},[e("button",{staticClass:"btn btn-use btn-hv-style",on:{click:t.addToCart}},[t._v("訂單結帳 "),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])])]):t._e(),e("div",{staticClass:"row"},[0!==t.tmpCart.length||t.isLoading?t._e():e("div",{staticClass:"text-center py-5"},[t._m(1),e("router-link",{staticClass:"btn btn-use btn-hv-style",attrs:{to:"/product"}},[t._v(" 去逛逛"),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])],1)])])])],1)},Xa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-header bg-cover d-flex justify-content-center align-items-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1595541718888-f29d5deaeb6e?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjU1fHxmaXNoJTIwYXF1YXJpdW18ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[e("h2",{staticClass:"img-header-title"},[e("strong",[t._v("結帳-確認商品")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-3"},[e("i",{staticClass:"fa-lg fas fa-shopping-cart fa-3x mb-3"}),e("br"),e("p",[e("strong",{staticClass:"mb-3"},[t._v("您的購物車是空的")])])])}],Ka=(e("a9e3"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("ul",{staticClass:"flow list-unstyled d-flex justify-content-around py-3"},[e("li",{class:{active:1===t.step}},[t._v("確認訂單")]),e("li",{class:{active:2===t.step}},[t._v("結帳付款")])])])}),Ja=[],Qa={name:"CheckoutFlow",props:["step"]},Za=Qa,te=Object(d["a"])(Za,Ka,Ja,!1,null,null,null),ae=te.exports,ee={name:"CheckoutConfirm",components:{Breadcrumb:zt,Loader:kt,CheckoutFlow:ae},data:function(){return{min:1,max:20}},created:function(){this.$store.dispatch("updateCheckoutBtn",!1),this.$store.dispatch("getTmpCart")},computed:Object(s["a"])({},Object(r["b"])(["tmpCart","isLoading","tmpTotal","checkoutVisible"])),methods:{addQuantity:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.qty<20&&(t.qty++,this.$store.dispatch("AddTmpCart",{data:t,num:a}))},minusQuantity:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t.qty>1&&(t.qty--,this.$store.dispatch("AddTmpCart",{data:t,num:a}))},verifyNumber:function(t){t.qty>this.max&&(t.qty=this.max),t.qty<this.min&&(t.qty=this.min);var a=Number(t.qty),e=!0;this.$store.dispatch("AddTmpCart",{data:t,num:a,IsTotalNum:e})},deleteTmpCartItem:function(t){this.$store.dispatch("removeTmpCart",t)},addToCart:function(){this.$store.dispatch("AddtoCart"),this.$router.push("/checkoutOrder")}}},se=ee,ie=Object(d["a"])(se,Wa,Xa,!1,null,null,null),re=ie.exports,ne=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("Breadcrumb")],1)]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("CheckoutFlow",{attrs:{step:2}})],1)]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6 mb-3"},[t.cart.length>0?e("div",[t._m(1),e("div",{staticClass:"border-secondary border rounded bg-white px-3"},[e("button",{staticClass:"btn btn-outline-third my-3",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(a){t.isOpenCoupon=!t.isOpenCoupon}}},[t._v(" 檢視優惠卷 "),e("i",{staticClass:"fas",class:{"fa-chevron-up":t.isOpenCoupon,"fa-chevron-down":!t.isOpenCoupon}})]),e("div",{staticClass:"collapse mb-3",attrs:{id:"collapseExample"}},[e("div",{staticClass:"card card-body bg-light"},[e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"content-striped"},[e("p",{staticClass:"text-alert"},[t._v("優惠卷每次只能用一張喔")]),t._l(t.AllActiveCouponList,(function(a){return e("div",{key:a.id,staticClass:"py-3 align-items-center"},[e("div",{staticClass:"col-12 d-flex px-2 align-items-center"},[e("div",{staticClass:"coupon text-white p-1 rounded"},[e("span",[e("i",{staticClass:"fas fa-tags"}),t._v(" "+t._s(a.percent)+"% ")])]),e("div",{staticClass:"ms-3"},[e("p",{staticClass:"mb-0"},[t._v(t._s(a.title))])])]),e("div",{staticClass:"col-12 px-2"},[e("div",{staticClass:"align-items-center"},[e("div",{staticClass:"input-group input-group-sm my-3"},[e("button",{staticClass:"btn-outline-third btn",on:{click:t.HandleCopy}},[t._v("點選複製優惠碼"),e("i",{staticClass:"far fa-clone ms-1"})]),e("input",{staticClass:"bg-light input-readonly",attrs:{type:"text",readonly:""},domProps:{value:a.code}})])])])])}))],2),0!==t.AllActiveCouponList.length||t.isLoading?t._e():e("div",{staticClass:"py-5 text-center"},[e("h3",[t._v("目前沒有優惠卷喔!")])])])])]),t.cart.length>0?e("div",{staticClass:"input-group input-group-sm mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control bg-light",attrs:{type:"text",placeholder:"請貼上優惠碼","aria-label":"請貼上優惠碼","aria-describedby":"button-addon"},domProps:{value:t.coupon_code},on:{click:t.HandlePaste,input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-use btn-hv-style",attrs:{type:"button",id:"button-addon"},on:{click:t.useCoupon}},[t._v("套用優惠碼")])])]):t._e()])]):t._e()]),e("div",{staticClass:"col-md-6 mb-3"},[t._m(2),e("div",{staticClass:"text-end border py-3 px-3 border-secondary rounded bg-white"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v("小計:")]),e("span",{staticClass:"ms-2"},[t._v(" "+t._s(t._f("currency")(t.cartTotal)))])]),e("div",{staticClass:"d-flex justify-content-between text-success my-1"},[e("small",[t._v("使用優惠代碼:")]),t.coupon?e("small",{staticClass:"ms-2"},[t._v(" "+t._s(t.coupon.code))]):t._e()]),e("div",{staticClass:"d-flex justify-content-between border-top border-secondary pt-2 mt-2"},[e("span",[t._v("總計:")]),e("span",{staticClass:"ms-2"},[t._v(" "+t._s(t._f("currency")(t.finalTotal)))])])])]),e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"accordion accordion-flush mb-3",attrs:{id:"orderDetail"}},[e("div",{staticClass:"accordion-item"},[t._m(3),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"orderDetailContent","aria-labelledby":"flush-headingOne","data-bs-parent":"#orderDetail"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"content-striped"},t._l(t.cart,(function(a){return e("div",{key:a.id,staticClass:"row mb-2 pb-2 align-items-center"},[e("div",{staticClass:"col-6 col-sm-4 col-md-4 col-lg-3"},[e("img",{staticClass:"cart-img-sm",attrs:{src:a.product.imageUrl,alt:a.product.title}})]),e("div",{staticClass:"col-6 col-sm-8 col-md-8 col-lg-9"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-6"},[e("small",[t._v(t._s(a.product.title)+" "),e("span",{staticClass:"ms-1"},[t._v("×"+t._s(a.qty))])]),a.total!==a.final_total?e("span",{staticClass:"badge bg-success ms-2"},[t._v(" 折扣商品 ")]):t._e()]),e("div",{staticClass:"col-md-3"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]),a.total!=a.final_total?e("div",{staticClass:"col-md-3 text-success"},[t._v(" 折扣價"+t._s(t._f("currency")(a.final_total))+" ")]):t._e()])])])})),0)])])])])])]),e("div",{staticClass:"col-12 py-3"},[e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"col-md-12"},[t._m(4),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"border border-secondary rounded px-3 py-3 bg-white",on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"userName"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control bg-light",class:i,attrs:{type:"text",name:"姓名",id:"userName"},domProps:{value:t.user.name},on:{input:function(a){a.target.composing||t.$set(t.user,"name",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6  mb-4"},[e("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"email"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("信箱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control bg-light",class:i,attrs:{type:"email",name:"信箱",id:"email"},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6  mb-4"},[e("ValidationProvider",{attrs:{rules:"required|digits:10"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"phone"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.tel,expression:"user.tel"}],staticClass:"form-control bg-light",class:i,attrs:{type:"tel",name:"電話",id:"phone"},domProps:{value:t.user.tel},on:{input:function(a){a.target.composing||t.$set(t.user,"tel",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"email"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("付款方式")]),e("select",{staticClass:"form-select bg-light",class:i,attrs:{name:"付款方式"}},[e("option",{attrs:{value:"payafter",selected:""}},[t._v("貨到付款")]),e("option",{attrs:{value:"creditcard"}},[t._v("信用卡")])]),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12  mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"address"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control bg-light",class:i,attrs:{type:"text",name:"地址",id:"address"},domProps:{value:t.user.address},on:{input:function(a){a.target.composing||t.$set(t.user,"address",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("label",{attrs:{for:"message"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.message,expression:"user.message"}],staticClass:"form-control bg-light",attrs:{name:"留言",id:"message",cols:"30",rows:"3"},domProps:{value:t.user.message},on:{input:function(a){a.target.composing||t.$set(t.user,"message",a.target.value)}}})])]),e("div",{staticClass:"text-end mb-4"},[e("button",{staticClass:"btn btn-use btn-hv-style",attrs:{type:"submit",disabled:s||0===t.cart.length}},[t._v("送出訂單"),e("i",{staticClass:"fas fa-angle-double-right ms-2"})])])])]}}])})],1)])])])],1)},ce=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-header bg-cover d-flex justify-content-center align-items-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1529057018378-07c51d77da73?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjY3fHxmaXNoJTIwdGFua3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}},[e("h2",{staticClass:"img-header-title"},[e("strong",[t._v("結帳-訂單結帳")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",{staticClass:"fw-bold"},[e("i",{staticClass:"fas fa-tag me-2 text-use"}),t._v("套用優惠卷")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",{staticClass:"fw-bold"},[e("i",{staticClass:"fas fa-truck me-2 ms-2 text-use"}),t._v("訂單資訊")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"accordion-header",attrs:{id:"flush-headingOne"}},[e("button",{staticClass:"accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#orderDetailContent","aria-expanded":"false","aria-controls":"flush-collapseOne"}},[e("h5",{staticClass:"fw-bold"},[e("i",{staticClass:"fas fa-shopping-bag me-2 text-use"}),t._v("查看訂購商品資訊")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",{staticClass:"fw-bold"},[e("i",{staticClass:"fas fa-user-edit me-2 text-use"}),t._v("聯絡人資料")])}],oe=(e("498a"),{name:"CheckoutOrder",components:{Breadcrumb:zt,Loader:kt,CheckoutFlow:ae},data:function(){return{coupon_code:"",user:{name:"",email:"",tel:"",address:"",message:""},isOpenCoupon:!1,AllActiveCouponList:[],orderId:""}},created:function(){this.$store.dispatch("getCart"),this.$store.dispatch("updateCheckoutBtn",!1),this.getAllCoupons()},computed:Object(s["a"])({},Object(r["b"])(["cart","isLoading","cartTotal","finalTotal","checkoutVisible","coupon"])),methods:{useCoupon:function(){this.$store.dispatch("useCoupon",this.coupon_code)},createOrder:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/order");a.$store.dispatch("updatedLoading",!0);var s=a.user.message.trim().replace(/[&<>"'`=/]/g,"");a.$http.post(e,{data:{user:a.user},message:s}).then((function(e){e.data.success?t.orderId=e.data.orderId:a.$store.dispatch("updateMessage",{message:e.data.message,status:"danger"})})).then((function(){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/pay/").concat(t.orderId);a.$http.post(e).then((function(t){t.data.success?a.$router.push("/checkoutSuccess"):a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){a.$store.dispatch("updateMessage",{message:t,status:"danger"})}))})).catch((function(t){a.$store.dispatch("updateMessage",{message:t,status:"danger"})}))},HandleCopy:function(t){y()(t.target).parent().find('input[type="text"]').select(),document.execCommand("copy")},HandlePaste:function(t){var a=this;navigator.clipboard.readText().then((function(t){a.coupon_code=t}))},getAllCoupons:function(){this.AllActiveCouponList=[{id:"1",percent:80,code:"newfish123",title:"新魚到!火赤金鑽小朋友來了"},{id:"2",percent:85,code:"free123",title:"瘋狂折扣周"},{id:"3",percent:95,code:"weed123321",title:"水草大特賣"}]}}}),le=oe,de=Object(d["a"])(le,ne,ce,!1,null,null,null),ue=de.exports,me=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"checkout-img",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1578507065211-1c4e99a5fd24?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTQ2fHxmaXNofGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"}}),e("div",{staticClass:"container-fluid py-5"},[t._m(0),e("div",{staticClass:"d-flex justify-content-center pt-5"},[e("router-link",{staticClass:"btn btn-outline-third",attrs:{to:"/"}},[t._v("回首頁 ")]),e("router-link",{staticClass:"ms-2 btn btn-use btn-hv-style",attrs:{to:"/product"}},[t._v("繼續選購")])],1)])])},pe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-content-center align-items-center info-box"},[e("div",{staticClass:"d-flex justify-content-around "},[e("div",[e("h2",{staticClass:"display-3"},[e("strong",[t._v("訂購成功")])]),e("strong",{staticClass:"display-6 text-center"},[t._v("感謝您的訂購!")]),e("br")]),e("div",{staticClass:"d-flex align-items-end ms-5"},[e("div",{staticClass:"dot-bounce"},[e("span",{staticClass:"dot dot1 bg-use"}),e("span",{staticClass:"dot dot2 bg-abstract"}),e("span",{staticClass:"dot dot3 bg-warning"}),e("span",{staticClass:"dot dot4 bg-alert"}),e("span",{staticClass:"dot dot5 bg-use"}),e("span",{staticClass:"dot dot6 bg-abstract"}),e("span",{staticClass:"dot dot7 bg-warning"}),e("span",{staticClass:"dot dot8 bg-alert"}),e("i",{staticClass:"fas fa-box-open fa-5x"})])])])])}],ve={name:"CheckoutSuccess",computed:Object(s["a"])({},Object(r["b"])(["isLoading"]))},fe=ve,he=Object(d["a"])(fe,me,pe,!1,null,null,null),ge=he.exports,be=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"text-end py-3"},[e("button",{staticClass:"btn btn-info text-white",attrs:{"data-toggle":"modal"},on:{click:function(a){return t.openModal(!0)}}},[t._v(" 新增優惠卷"),e("i",{staticClass:"fas fa-plus ms-2"})])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.coupons,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.percent))]),e("td",[t._v(t._s(t.TransformDate(a.due_date)))]),e("td",[a.is_enabled?e("span",[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(e){return t.openModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-alert btn-sm",on:{click:function(e){return t.openModalDelete(a)}}},[t._v("刪除")])])])})),0)]),0!==t.coupons.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("請新增優惠卷")])])]),e("Pagination",{attrs:{pagination:t.pagination},on:{getData:t.getCoupons}}),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("div",{staticClass:"modal fade",attrs:{id:"AddNewModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-abstract bg-gradient text-white"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle)),e("i",{staticClass:"ms-2 fas fa-pencil-alt"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"row g-3"},[e("div",{staticClass:"col-12 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"title"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.title,expression:"currentCuopon.title"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"名稱",id:"title",placeholder:"請輸入名稱"},domProps:{value:t.currentCuopon.title},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"title",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"discountCode"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.code,expression:"currentCuopon.code"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"優惠碼",id:"discountCode",placeholder:"請輸入優惠碼"},domProps:{value:t.currentCuopon.code},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"code",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"expireDay"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.due_date,expression:"currentCuopon.due_date"}],staticClass:"form-control",class:i,attrs:{type:"date",name:"到期日",id:"expireDay",placeholder:"請輸入到期日"},domProps:{value:t.currentCuopon.due_date},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"due_date",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"discountPercent"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.percent,expression:"currentCuopon.percent"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"折扣百分比",id:"discountPercent",placeholder:"請輸入折扣百分比"},domProps:{value:t.currentCuopon.percent},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"percent",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mt-5"},[e("div",{staticClass:"form-check mb-4  ms-1"},[e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.is_enabled,expression:"currentCuopon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentCuopon.is_enabled)?t._i(t.currentCuopon.is_enabled,null)>-1:t._q(t.currentCuopon.is_enabled,1)},on:{change:function(a){var e=t.currentCuopon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.currentCuopon,"is_enabled",e.concat([r])):n>-1&&t.$set(t.currentCuopon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.currentCuopon,"is_enabled",i)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-abstract text-white",attrs:{type:"button",disabled:s},on:{click:t.updateCoupon}},[t._v("確認")])])])])])]}}])}),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("div",{staticClass:"modal fade",attrs:{id:"UpdateModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-abstract bg-gradient text-white"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle)),e("i",{staticClass:"ms-2 fas fa-pencil-alt"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"row g-3"},[e("div",{staticClass:"col-12 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"title"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.title,expression:"currentCuopon.title"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"名稱",id:"title",placeholder:"請輸入名稱"},domProps:{value:t.currentCuopon.title},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"title",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"discountCode"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.code,expression:"currentCuopon.code"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"優惠碼",id:"discountCode",placeholder:"請輸入優惠碼"},domProps:{value:t.currentCuopon.code},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"code",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"expireDay"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.due_date,expression:"currentCuopon.due_date"}],staticClass:"form-control",class:i,attrs:{type:"date",name:"到期日",id:"expireDay",placeholder:"請輸入到期日"},domProps:{value:t.currentCuopon.due_date},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"due_date",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mb-4"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"discountPercent"}},[e("span",{staticClass:"text-danger"},[t._v("*")]),t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.percent,expression:"currentCuopon.percent"}],staticClass:"form-control",class:i,attrs:{type:"number",name:"折扣百分比",id:"discountPercent",placeholder:"請輸入折扣百分比"},domProps:{value:t.currentCuopon.percent},on:{input:function(a){a.target.composing||t.$set(t.currentCuopon,"percent",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-6 mt-5"},[e("div",{staticClass:"form-check mb-4  ms-1"},[e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCuopon.is_enabled,expression:"currentCuopon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.currentCuopon.is_enabled)?t._i(t.currentCuopon.is_enabled,null)>-1:t._q(t.currentCuopon.is_enabled,1)},on:{change:function(a){var e=t.currentCuopon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.currentCuopon,"is_enabled",e.concat([r])):n>-1&&t.$set(t.currentCuopon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.currentCuopon,"is_enabled",i)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-abstract text-white",attrs:{type:"button",disabled:s},on:{click:t.updateCoupon}},[t._v("確認")])])])])])]}}])}),e("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"delCouponModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.currentCuopon.title))]),t._v(" 優惠卷(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-third",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v("確認刪除")])])])])])],1)},Ce=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("優惠卷管理 "),e("i",{staticClass:"fas fa-tags ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"130"}},[t._v("名稱")]),e("th",{attrs:{width:"60"}},[t._v("折扣百分比")]),e("th",{attrs:{width:"120"}},[t._v("到期日")]),e("th",{attrs:{width:"60"}},[t._v("是否啟用")]),e("th",{attrs:{width:"80"}},[t._v("編輯")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger bg-gradient"},[e("h5",{staticClass:"modal-title text-white",attrs:{id:"delCouponModallLabel"}},[t._v(" 刪除優惠卷"),e("i",{staticClass:"fas fa-trash-alt ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],_e={name:"Coupon",data:function(){return{coupons:[],currentCuopon:{},pagination:{},isNew:!1,modalTitle:"",modalUpdate:null,modalDelete:null,modalAdd:null}},components:{Pagination:Ua,Loader:kt},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupons?page=").concat(t);a.$store.dispatch("updatedLoading",!0),a.$http.get(e).then((function(t){t.data.success?(a.coupons=t.data.coupons,a.pagination=t.data.pagination):a.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),a.$store.dispatch("updatedLoading",!1)})).catch((function(t){a.$store.dispatch("updateMessage",{message:t,status:"danger"})}))},openModal:function(t,a){t?(this.currentCuopon={},this.isNew=!0,this.modalTitle="新增優惠卷",this.modalAdd.show()):(this.currentCuopon=Object(s["a"])({},a),this.isNew=!1,this.modalTitle="修改優惠卷",this.modalUpdate.show())},openModalDelete:function(t){this.currentCuopon=Object(s["a"])({},t),this.modalDelete.show()},updateCoupon:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon"),e="post";t.$store.dispatch("updatedLoading",!0),t.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon/").concat(t.currentCuopon.id),e="put"),t.$http[e](a,{data:t.currentCuopon}).then((function(a){a.data.success||t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.getCoupons(),t.modalUpdate.hide(),t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},deleteCoupon:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/coupon/").concat(this.currentCuopon.id);t.$store.dispatch("updatedLoading",!0),t.$http.delete(a).then((function(a){a.data.success||t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.modalDelete.hide(),t.getCoupons(),t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},TransformDate:function(t){return t.replace("-","/").replace("-","/")}},created:function(){this.getCoupons(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.modalDelete=new Pa["Modal"](document.getElementById("delCouponModal")),this.modalAdd=new Pa["Modal"](document.getElementById("AddNewModal")),this.modalUpdate=new Pa["Modal"](document.getElementById("UpdateModal"))},computed:Object(s["a"])({},Object(r["b"])(["isLoading","checkoutVisible"]))},ye=_e,xe=Object(d["a"])(ye,be,Ce,!1,null,null,null),ke=xe.exports,we=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.Orders,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.getCreatedDate(a)))]),e("td",[t._v(t._s(a.user.email))]),e("td",[e("ul",{staticClass:"ps-0"},t._l(a.products,(function(a){return e("li",{key:a.id,staticClass:"list-insie"},[t._v(" "+t._s(a.product.title)+" 數量"+t._s(a.qty)+t._s(a.product.unit)+" ")])})),0)]),e("td",{staticClass:"text-end pe-3"},[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])]),e("td",[e("button",{staticClass:"btn btn-outline-third",on:{click:function(e){return t.OpenModal(a)}}},[t._v("檢視")])])])})),0)]),0!=t.Orders.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("尚無訂單")])])]),e("Pagination",{attrs:{pagination:t.OrderPagination},on:{getData:t.getOrders}}),e("div",{staticClass:"modal fade",attrs:{id:"ViewModal",tabindex:"-1","aria-labelledby":"ViewModalabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl modal-dialog-scrollable",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 mb-2"},[t._m(3),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.getCreatedDate(t.currentOrder)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(4),e("p",{staticClass:"manage-text mb-0"},[t._v(t._s(t.currentOrder.id))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 bg-light"},[t._m(5),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t._f("currency")(t.currentOrder.total)))])]),e("div",{staticClass:"col-md-6 py-2 bg-light"},[t._m(6),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.is_paid?"已付款":"未付款"))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(7),e("ul",{staticClass:"manage-text mb-0 list-point-inset"},t._l(t.currentOrder.products,(function(a){return e("li",{key:a.id},[t._v(t._s(a.product.title)+" 數量"+t._s(a.qty)+t._s(a.product.unit)+" ")])})),0)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 bg-light"},[t._m(8),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.name))])]),e("div",{staticClass:"col-md-6 py-2 bg-light"},[t._m(9),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.email))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(10),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.tel))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(11),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.address))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 py-2  bg-light"},[t._m(12),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.message))])])])])])])])],1)},Oe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("訂單管理"),e("i",{staticClass:"fas fa-truck ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"120"}},[t._v("購買時間")]),e("th",{attrs:{width:"140"}},[t._v("Email")]),e("th",{staticClass:"140"},[t._v("購買內容")]),e("th",{staticClass:"text-end pe-3",attrs:{width:"100"}},[t._v("應付金額")]),e("th",{attrs:{width:"100"}},[t._v("狀態")]),e("th",{attrs:{width:"100"}},[t._v("檢視")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-abstract text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"ViewModalLabel"}},[t._v(" 檢視訂單"),e("i",{staticClass:"fas fa-check-square ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"datetime"}},[e("strong",[t._v("購買日期")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"orderNo"}},[e("strong",[t._v("訂單編號")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"total"}},[e("strong",[t._v("金額")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"isPaid"}},[e("strong",[t._v("狀態")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header "},[e("strong",[t._v("購物清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"name"}},[e("strong",[t._v("購買者")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"email"}},[e("strong",[t._v("email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"tel"}},[e("strong",[t._v("電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"address"}},[e("strong",[t._v("地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header"},[e("strong",[t._v("留言")])])}],Me={name:"Order",components:{Pagination:Ua,Loader:kt},data:function(){return{currentOrder:{user:{}},viewModal:null}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("getOrder",t)},getCreatedDate:function(t){var a=new Date(1e3*t.create_at);return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())},OpenModal:function(t){this.currentOrder=Object(s["a"])({},t),this.viewModal.show()}},created:function(){this.getOrders(),this.$store.dispatch("updateCheckoutBtn",!0)},mounted:function(){this.viewModal=new Pa["Modal"](document.getElementById("ViewModal"))},computed:Object(s["a"])({},Object(r["b"])(["isLoading","Orders","OrderPagination","checkoutVisible"]))},je=Me,Pe=Object(d["a"])(je,we,Oe,!1,null,null,null),$e=Pe.exports,De=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col-md-6"},[e("Breadcrumb")],1)]),e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"content-striped"},t._l(t.products,(function(a){return e("div",{key:a.id,staticClass:"row mb-2 pb-2  align-items-center"},[e("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-3"},[e("img",{staticClass:"cart-img",attrs:{src:a.imageUrl,alt:"item.title"}})]),e("div",{staticClass:"col-6 col-sm-8 col-md-9 col-lg-9"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"badge bg-third"},[t._v(" "+t._s(a.category))]),e("p",[t._v(t._s(a.title))]),e("div",{staticClass:"d-flex "},[e("p",[e("del",[t._v(t._s(t._f("currency")(a.origin_price)))])]),e("p",{staticClass:"text-alert h5 ms-5"},[t._v(t._s(t._f("currency")(a.price)))])])]),e("div",{staticClass:"col-md-8"},[e("button",{staticClass:"btn btn-primary btn-hv-style me-3",attrs:{role:"button"},on:{click:function(e){return t.goToContent(a.id)}}},[e("span",{staticClass:"d-none d-sm-inline-block me-2"},[t._v("查看更多")]),e("i",{staticClass:"fas fa-angle-double-right"})]),e("button",{staticClass:"btn btn-use btn-hv-style me-3",attrs:{id:a.id,role:"button"},on:{click:function(e){return t.addToCart(a)}}},[e("span",{staticClass:"d-none d-sm-inline-block me-2"},[t._v("加入購物車")]),e("i",{staticClass:"fas fa-cart-plus"})]),e("a",{attrs:{id:a.id,role:"button"},on:{click:function(e){return t.cancelFavorite(a.id)}}},[e("i",{staticClass:"fas fa-times ms-2"})])])])])])})),0),0!==t.products.length||t.isLoading?t._e():e("div",{staticClass:"py-5 text-center"},[e("h3",[t._v("還沒有收藏喔，趕快去新增一些吧!")])])])])])],1)},Te=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"img-header bg-cover d-flex justify-content-center align-items-center",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1516970739312-08b075784b71?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=755&q=80')"}},[e("h2",{staticClass:"img-header-title"},[e("strong",[t._v("我的收藏")])])])}],Ee={name:"Favorite",data:function(){return{products:[]}},components:{Breadcrumb:zt,Loader:kt},computed:Object(s["a"])({},Object(r["b"])(["isLoading","favoritelist","checkoutVisible"])),methods:{getFavoriteList:function(){this.$store.dispatch("getFavorite"),this.getProductsList()},getProductsList:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/products/all");t.products=[],t.$store.dispatch("updatedLoading",!0),t.$http.get(a).then((function(a){if(a.data.success){var e=a.data.products;t.favoritelist.forEach((function(a){var s,i=e.filter((function(t){return t.id===a}));i&&(s=t.products).push.apply(s,Object(ya["a"])(i))}))}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"});t.$store.dispatch("updatedLoading",!1)})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},goToContent:function(t){this.$router.push("/content/".concat(t))},cancelFavorite:function(t){this.$store.dispatch("removeFavorite",t),this.getFavoriteList()},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("AddTmpCart",{data:t,num:a})}},created:function(){this.getFavoriteList(),this.$store.dispatch("updateCheckoutBtn",!0)}},Le=Ee,Se=Object(d["a"])(Le,De,Te,!1,null,null,null),Ae=Se.exports,Ie=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.todayOrders,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.TransformDate(a.create_at)))]),e("td",[e("ul",{staticClass:"list-unstyled mb-0"},t._l(a.products,(function(a){return e("li",{key:a.id},[t._v(" "+t._s(a.product.title)+" × "+t._s(a.qty)+" ")])})),0)]),e("td",[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])]),e("td",[e("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(e){return t.OpenModal(a)}}},[t._v("檢視")])])])})),0)]),0!=t.todayOrders.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("今日尚無訂單")])]),e("div",{staticClass:"modal fade",attrs:{id:"TodayOrderModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 mb-2"},[t._m(3),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.TransformDate(t.currentOrder.create_at)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(4),e("p",{staticClass:"manage-text mb-0"},[t._v(t._s(t.currentOrder.id))])])]),e("div",{staticClass:"row bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(5),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t._f("currency")(t.currentOrder.total)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(6),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.is_paid?"已付款":"未付款"))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(7),e("ul",{staticClass:"manage-text mb-0 list-point-inset"},t._l(t.currentOrder.products,(function(a){return e("li",{key:a.id},[t._v(t._s(a.product.title)+" ×"+t._s(a.qty)+" ")])})),0)])]),e("div",{staticClass:"row bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(8),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.name))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(9),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.email))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(10),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.tel))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(11),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.address))])])]),e("div",{staticClass:"row bg-light"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(12),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.message))])])])])])])])])],1)},qe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("本日訂單一覽"),e("i",{staticClass:"fas fa-calendar ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"60"}},[t._v("訂購日期")]),e("th",{attrs:{width:"120"}},[t._v("訂購商品")]),e("th",{attrs:{width:"80"}},[t._v("金額")]),e("th",{attrs:{width:"60"}},[t._v("狀態")]),e("th",{attrs:{width:"60"}},[t._v("詳細內容")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-abstract bg-gradient text-white"},[e("h5",{staticClass:"modal-title"},[t._v("檢視訂單"),e("i",{staticClass:"fas fa-check-square ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"datetime"}},[e("strong",[t._v("購買日期")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"orderNo"}},[e("strong",[t._v("訂單編號")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"total"}},[e("strong",[t._v("金額")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"isPaid"}},[e("strong",[t._v("狀態")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header "},[e("strong",[t._v("購物清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"name"}},[e("strong",[t._v("購買者")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"email"}},[e("strong",[t._v("email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"tel"}},[e("strong",[t._v("電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"address"}},[e("strong",[t._v("地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header"},[e("strong",[t._v("留言")])])}],Ne={name:"ReportDay",components:{Loader:kt},data:function(){return{todayOrders:[],currentOrder:{user:{}},ViewModal:null}},computed:Object(s["a"])({},Object(r["b"])(["isLoading"])),methods:{getTodayOrders:function(){var t=this,a=0,e=1,s=[],i=1,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.$store.dispatch("updatedLoading",!0),t.$http.get(r).then((function(a){if(a.data.success){s=a.data.orders,e=a.data.pagination.total_pages;for(var r=2;r<e+1;r++){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(r);t.$http.get(n).then((function(a){a.data.success?(s=[].concat(Object(ya["a"])(s),Object(ya["a"])(a.data.orders)),i+=1):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).then((function(){if(i===e){var a=new Date,r="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());t.todayOrders=s.filter((function(t){var a=new Date(1e3*t.create_at),e="".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(a.getDate());return r===e}))}})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},TransformDate:function(t){var a=new Date(1e3*t);return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/\n      ").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())},OpenModal:function(t){this.currentOrder=Object(s["a"])({},t),this.ViewModal.show()}},created:function(){this.getTodayOrders()},mounted:function(){this.ViewModal=new Pa["Modal"](document.getElementById("TodayOrderModal"))}},Fe=Ne,Ye=Object(d["a"])(Fe,Ie,qe,!1,null,null,null),Be=Ye.exports,Ve=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.WeekOrders,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.TransformDate(a.create_at)))]),e("td",[e("ul",{staticClass:"list-unstyled mb-0"},t._l(a.products,(function(a){return e("li",{key:a.id},[t._v(" "+t._s(a.product.title)+" × "+t._s(a.qty)+" ")])})),0)]),e("td",[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])]),e("td",[e("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(e){return t.OpenModal(a)}}},[t._v("檢視")])])])})),0)]),0!==t.WeekOrders.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("本周尚無訂單")])]),e("div",{staticClass:"modal fade",attrs:{id:"MonthOrderModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 mb-2"},[t._m(3),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.TransformDate(t.currentOrder.create_at)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(4),e("p",{staticClass:"manage-text mb-0"},[t._v(t._s(t.currentOrder.id))])])]),e("div",{staticClass:"row  bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(5),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t._f("currency")(t.currentOrder.total)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(6),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.is_paid?"已付款":"未付款"))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(7),e("ul",{staticClass:"manage-text mb-0 list-point-inset"},t._l(t.currentOrder.products,(function(a){return e("li",{key:a.id},[t._v(t._s(a.product.title)+" ×"+t._s(a.qty)+" ")])})),0)])]),e("div",{staticClass:"row  bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(8),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.name))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(9),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.email))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(10),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.tel))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(11),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.address))])])]),e("div",{staticClass:"row bg-light"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(12),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.message))])])])])])])])])],1)},Ue=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("本周訂單一覽"),e("i",{staticClass:"fas fa-calendar-minus ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"60"}},[t._v("訂購日期")]),e("th",{attrs:{width:"120"}},[t._v("訂購商品")]),e("th",{attrs:{width:"80"}},[t._v("金額")]),e("th",{attrs:{width:"60"}},[t._v("狀態")]),e("th",{attrs:{width:"60"}},[t._v("詳細內容")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-abstract bg-gradient text-white"},[e("h5",{staticClass:"modal-title"},[t._v("檢視訂單"),e("i",{staticClass:"fas fa-check-square ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"datetime"}},[e("strong",[t._v("購買日期")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"orderNo"}},[e("strong",[t._v("訂單編號")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"total"}},[e("strong",[t._v("金額")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"isPaid"}},[e("strong",[t._v("狀態")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header "},[e("strong",[t._v("購物清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"name"}},[e("strong",[t._v("購買者")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"email"}},[e("strong",[t._v("email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"tel"}},[e("strong",[t._v("電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"address"}},[e("strong",[t._v("地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header"},[e("strong",[t._v("留言")])])}],ze={name:"ReportWeek",components:{Loader:kt},data:function(){return{WeekOrders:[],currentOrder:{user:{}},ViewModal:null}},computed:Object(s["a"])({},Object(r["b"])(["isLoading"])),methods:{getWeekOrders:function(){var t=this,a=0,e=1,s=[],i=1,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.$store.dispatch("updatedLoading",!0),t.$http.get(r).then((function(a){if(a.data.success){s=a.data.orders,e=a.data.pagination.total_pages;for(var r=2;r<e+1;r++){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(r);t.$http.get(n).then((function(a){a.data.success?(s=[].concat(Object(ya["a"])(s),Object(ya["a"])(a.data.orders)),i+=1):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).then((function(){if(i===e){var a=Da()().startOf("week"),r=Da()().endOf("week");t.WeekOrders=s.filter((function(t){return Da()(1e3*t.create_at).isBetween(a,r)})),t.$store.dispatch("updatedLoading",!1)}})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}}else t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},TransformDate:function(t){var a=new Date(1e3*t);return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/\n      ").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())},OpenModal:function(t){this.currentOrder=Object(s["a"])({},t),this.ViewModal.show()}},created:function(){this.getWeekOrders()},mounted:function(){this.ViewModal=new Pa["Modal"](document.getElementById("MonthOrderModal"))}},Ge=ze,He=Object(d["a"])(Ge,Ve,Ue,!1,null,null,null),Re=He.exports,We=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Loader")],1),t._m(0),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-sm mt-4 text-third"},[t._m(1),e("tbody",t._l(t.MonthOrders,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.TransformDate(a.create_at)))]),e("td",[e("ul",{staticClass:"list-unstyled mb-0"},t._l(a.products,(function(a){return e("li",{key:a.id},[t._v(" "+t._s(a.product.title)+" × "+t._s(a.qty)+" ")])})),0)]),e("td",[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])]),e("td",[e("button",{staticClass:"btn btn-outline-third btn-sm",on:{click:function(e){return t.OpenModal(a)}}},[t._v("檢視")])])])})),0)]),0!==t.MonthOrders.length||t.isLoading?t._e():e("div",[e("h3",{staticClass:"text-center"},[t._v("本月尚無訂單")])]),e("div",{staticClass:"modal fade",attrs:{id:"MonthOrderModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2 mb-2"},[t._m(3),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.TransformDate(t.currentOrder.create_at)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(4),e("p",{staticClass:"manage-text mb-0"},[t._v(t._s(t.currentOrder.id))])])]),e("div",{staticClass:"row  bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(5),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t._f("currency")(t.currentOrder.total)))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(6),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.is_paid?"已付款":"未付款"))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(7),e("ul",{staticClass:"manage-text mb-0 list-point-inset"},t._l(t.currentOrder.products,(function(a){return e("li",{key:a.id},[t._v(t._s(a.product.title)+" ×"+t._s(a.qty)+" ")])})),0)])]),e("div",{staticClass:"row  bg-light"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(8),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.name))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(9),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.email))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 py-2"},[t._m(10),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.tel))])]),e("div",{staticClass:"col-md-6 py-2"},[t._m(11),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.address))])])]),e("div",{staticClass:"row bg-light"},[e("div",{staticClass:"col-md-12 py-2"},[t._m(12),e("p",{staticClass:"manage-text mb-0"},[t._v(" "+t._s(t.currentOrder.user.message))])])])])])])])])],1)},Xe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"mt-4 manage-header"},[t._v("本月訂單一覽"),e("i",{staticClass:"fas fa-calendar-alt ms-2"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"60"}},[t._v("訂購日期")]),e("th",{attrs:{width:"120"}},[t._v("訂購商品")]),e("th",{attrs:{width:"80"}},[t._v("金額")]),e("th",{attrs:{width:"60"}},[t._v("狀態")]),e("th",{attrs:{width:"60"}},[t._v("詳細內容")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-abstract bg-gradient text-white"},[e("h5",{staticClass:"modal-title"},[t._v("檢視訂單"),e("i",{staticClass:"fas fa-check-square ms-2"})]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"datetime"}},[e("strong",[t._v("購買日期")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"orderNo"}},[e("strong",[t._v("訂單編號")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"total"}},[e("strong",[t._v("金額")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"isPaid"}},[e("strong",[t._v("狀態")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header "},[e("strong",[t._v("購物清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"name"}},[e("strong",[t._v("購買者")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"email"}},[e("strong",[t._v("email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"tel"}},[e("strong",[t._v("電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header",attrs:{for:"address"}},[e("strong",[t._v("地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"manage-header"},[e("strong",[t._v("留言")])])}],Ke={name:"ReporMonth",components:{Loader:kt},data:function(){return{MonthOrders:[],currentOrder:{user:{}},ViewModal:null}},computed:Object(s["a"])({},Object(r["b"])(["isLoading"])),methods:{getMonthOrders:function(){var t=this,a=0,e=1,s=[],i="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.$store.dispatch("updatedLoading",!0),t.$http.get(i).then((function(a){a.data.success?function(){s=a.data.orders,e=a.data.pagination.total_pages;for(var i=1,r=2;r<e+1;r++){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(r);t.$http.get(n).then((function(a){a.data.success?(s=[].concat(Object(ya["a"])(s),Object(ya["a"])(a.data.orders)),i+=1):t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"}),t.$store.dispatch("updatedLoading",!1)})).then((function(){if(i===e){var a=Da()().startOf("month"),r=Da()().endOf("month");t.MonthOrders=s.filter((function(t){return Da()(1e3*t.create_at).isBetween(a,r)}))}})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))}}():t.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})})).catch((function(a){t.$store.dispatch("updateMessage",{message:a,status:"danger"})}))},TransformDate:function(t){var a=new Date(1e3*t);return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/\n      ").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())},OpenModal:function(t){this.currentOrder=Object(s["a"])({},t),this.ViewModal.show()}},created:function(){this.getMonthOrders()},mounted:function(){this.ViewModal=new Pa["Modal"](document.getElementById("MonthOrderModal"))}},Je=Ke,Qe=Object(d["a"])(Je,We,Xe,!1,null,null,null),Ze=Qe.exports;i["a"].use(p["a"]);var ts=[{path:"/",component:G,children:[{path:"/",name:"Index",component:Dt,meta:{breadcrumb:[{name:"首頁"}]}},{path:"product/:kind?",name:"Product",component:Wt,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"商品"}]}},{path:"login",name:"Login",component:ta,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"管理員登入"}]}},{path:"content/:contentId",name:"Content",component:na,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"所有商品",link:"/product"},{name:"商品內容"}]}},{path:"favorite",name:"Favorite",component:Ae,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"我的收藏"}]}},{path:"checkoutConfirm",name:"CheckoutConfirm",component:re,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"結帳-確認商品"}]}},{path:"checkoutOrder",name:"CheckoutOrder",component:ue,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"結帳-訂單結帳"}]}},{path:"checkoutSuccess",name:"CheckoutSuccess",component:ge,meta:{breadcrumb:[{name:"首頁",link:"/"},{name:"付款成功"}]}}]},{path:"/admin",name:"Dashboard",component:ba,children:[{path:"dashboard",name:"DashboardIndex",component:Aa,meta:{requiresAuth:!0}},{path:"productManage",name:"ProductManage",component:Ra,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:ke,meta:{requiresAuth:!0}},{path:"order",name:"Order",component:$e,meta:{requiresAuth:!0}},{path:"reportDay",name:"ReportDay",component:Be,meta:{requiresAuth:!0}},{path:"reportWeek",name:"ReportWeek",component:Re,meta:{requiresAuth:!0}},{path:"reportMonth",name:"ReportMonth",component:Ze,meta:{requiresAuth:!0}}]},{path:"*",redirect:"/"}],as=new p["a"]({linkExactActiveClass:"active",routes:ts,scrollBehavior:function(){return{x:0,y:0}}}),es=as,ss=(e("a434"),e("c740"),e("bc3a")),is=e.n(ss),rs={state:{cart:[],tmpCart:[],localStoragePrice:0,cartTotal:0,cartFinalTotal:0,coupon:{}},mutations:{TMPCART:function(t,a){t.tmpCart=a},TMPTOTAL:function(t,a){t.localStoragePrice=a},CART:function(t,a){t.cart=a},FINALTOTAL:function(t,a){t.cartFinalTotal=a},CARTTOTAL:function(t,a){t.cartTotal=a},COUPON:function(t,a){t.coupon=Object(s["a"])({},a)}},actions:{AddTmpCart:function(t,a){var e=a.data,s=a.num,i=a.IsTotalNum,r=void 0!==i&&i;t.commit("LOADINGITEM",e.id);var n=JSON.parse(localStorage.getItem("cartData"))||[],c=[];if(n.forEach((function(t){c.push(t.product_id)})),-1===c.indexOf(e.id)){var o={product_id:e.id,qty:s,title:e.title,origin_price:e.origin_price,price:e.price,imageUrl:e.imageUrl,id:e.id};n.push(o),localStorage.setItem("cartData",JSON.stringify(n))}else{var l={},d=0;n.forEach((function(t,a){if(t.product_id===e.id){var i=t.qty;l=r?{product_id:e.id,qty:s,title:e.title,origin_price:e.origin_price,price:e.price,imageUrl:e.imageUrl,id:e.id}:{product_id:e.id,qty:i+=s,title:e.title,origin_price:e.origin_price,price:e.price,imageUrl:e.imageUrl,id:e.id},d=a,n.splice(a,1)}})),n.splice(d,0,l),localStorage.setItem("cartData",JSON.stringify(n))}t.commit("TMPCART",n),t.dispatch("getTmpCart"),t.commit("LOADINGITEM","")},getTmpCart:function(t){var a=JSON.parse(localStorage.getItem("cartData"))||[];t.commit("TMPCART",a);var e=0;a.forEach((function(t){e+=Number(t.qty*t.price)})),t.commit("TMPTOTAL",e)},removeTmpCart:function(t,a){var e=JSON.parse(localStorage.getItem("cartData"))||[],s=e.findIndex((function(t){return t.id===a}));e.splice(s,1),localStorage.setItem("cartData",JSON.stringify(e)),t.dispatch("getTmpCart")},AddtoCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart");t.commit("LOADING",!0);var e=[];is.a.get(a).then((function(t){var a=t.data.data.carts;a.forEach((function(t){e.push(t.id)}))})).then((function(){e.forEach((function(t){is.a.delete("".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart/").concat(t))}))})).then((function(){var a=JSON.parse(localStorage.getItem("cartData"))||[];a.forEach((function(a){var e={product_id:a.id,qty:a.qty};is.a.post("".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart"),{data:e}).then((function(){t.commit("TMPCART",[]),t.commit("TMPTOTAL",0),localStorage.removeItem("cartData"),t.commit("LOADING",!1),t.dispatch("getCart")}))}))})).catch((function(a){var e=a,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}))},getCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/cart");t.commit("LOADING",!0),is.a.get(a).then((function(a){if(a.data.success)t.commit("CART",a.data.data.carts),t.commit("CARTTOTAL",a.data.data.total),t.commit("FINALTOTAL",a.data.data.final_total),t.commit("COUPON",a.data.data.carts[0].coupon);else{var e=a.data.message,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}t.commit("LOADING",!1)})).catch((function(a){var e=a,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}))},useCoupon:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/coupon");t.commit("LOADING",!0),is.a.post(e,{data:{code:a}}).then((function(a){if(a.data.success)t.dispatch("getCart");else{var e=a.data.message,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}t.commit("LOADING",!1)})).catch((function(a){var e=a,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}))}},getters:{cart:function(t){return t.cart},cartTotal:function(t){return t.cartTotal},finalTotal:function(t){return t.cartFinalTotal},tmpCart:function(t){return t.tmpCart},tmpTotal:function(t){return t.localStoragePrice},coupon:function(t){return t.coupon}}};i["a"].use(r["a"]);var ns=new r["a"].Store({state:{isLoading:!1,status:{loadingItem:""},messages:[],orders:[],orderPagination:{},loginStatus:!1,checkoutVisible:!0,FavoriteList:[]},mutations:{LOADING:function(t,a){t.isLoading=a},LOADINGITEM:function(t,a){t.status.loadingItem=a},MESSAGESPUSH:function(t,a){t.messages.push(a)},MESSAGEREMOVE:function(t,a){t.messages.splice(a,1)},MESSAGETIMEING:function(t,a){t.messages.forEach((function(e,s){e.timestamp===a&&t.messages.splice(s,1)}))},ORDERS:function(t,a){t.orders=a},ORDERPAGINATION:function(t,a){t.orderPagination=Object(s["a"])({},a)},LOGINSTATUS:function(t,a){t.loginStatus=a},CHECKOUTVISIBLE:function(t,a){t.checkoutVisible=a},FAVORITELIST:function(t,a){t.FavoriteList=a}},actions:{updatedLoading:function(t,a){t.commit("LOADING",a)},updateLoadingItem:function(t,a){t.commit("LOADINGITEM",a)},updateMessage:function(t,a){var e=a.message,s=a.status,i=Math.floor(new Date/1e3),r={message:e,status:s,timestamp:i};t.commit("MESSAGESPUSH",r),setTimeout((function(){t.commit("MESSAGETIMEING",i)}),3800)},removeMessage:function(t,a){t.commit("MESSAGEREMOVE",a)},getOrder:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("happyaquarium","/admin/orders?page=").concat(a);t.commit("LOADING",!0),is.a.get(e).then((function(a){if(a.data.success)t.commit("ORDERS",a.data.orders),t.commit("ORDERPAGINATION",a.data.pagination);else{var e=a.data.message,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}t.commit("LOADING",!1)})).catch((function(a){var e=a,s="danger",i={message:e,status:s};t.dispatch("updateMessage",i)}))},getLoginStatus:function(t,a){t.commit("LOGINSTATUS",a)},updateCheckoutBtn:function(t,a){t.commit("CHECKOUTVISIBLE",a)},getFavorite:function(t){var a=JSON.parse(localStorage.getItem("favorite"))||[];t.commit("FAVORITELIST",a)},AddFavorite:function(t,a){var e=JSON.parse(localStorage.getItem("favorite"))||[];if(-1===e.indexOf(a))e.push(a),localStorage.setItem("favorite",JSON.stringify(e));else{var s="商品重複加入",i="warning",r={message:s,status:i};t.dispatch("updateMessage",r)}t.commit("FAVORITELIST",e)},removeFavorite:function(t,a){var e=JSON.parse(localStorage.getItem("favorite"))||[],s=e.findIndex((function(t){return t===a}));e.splice(s,1),localStorage.setItem("favorite",JSON.stringify(e)),t.commit("FAVORITELIST",e)}},getters:{isLoading:function(t){return t.isLoading},messages:function(t){return t.messages},loadingItem:function(t){return t.status.loadingItem},Orders:function(t){return t.orders},OrderPagination:function(t){return t.orderPagination},loginStatus:function(t){return t.loginStatus},checkoutVisible:function(t){return t.checkoutVisible},favoritelist:function(t){return t.FavoriteList}},modules:{CartModules:rs}}),cs=e("2106"),os=e.n(cs),ls=e("9062"),ds=e.n(ls),us=(e("b680"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,(function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))}),ms=(e("e40d"),e("7bb1")),ps=e("60d4"),vs=e("4c93");i["a"].use(os.a,is.a),i["a"].use(r["a"]),window.bootstrap=Pa,i["a"].component("Loading",ds.a),Object.keys(vs).forEach((function(t){Object(ms["d"])(t,Object(s["a"])({},vs[t]))})),Object(ms["e"])("zh_TW",ps),Object(ms["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),i["a"].component("ValidationObserver",ms["a"]),i["a"].component("ValidationProvider",ms["b"]),i["a"].config.productionTip=!1,is.a.defaults.withCredentials=!0,i["a"].filter("currency",us),new i["a"]({router:es,store:ns,render:function(t){return t(m)}}).$mount("#app"),es.beforeEach((function(t,a,e){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");is.a.post(s).then((function(a){a.data.success?(ns.dispatch("getLoginStatus",!0),e()):(ns.dispatch("getLoginStatus",!1),t.meta.requiresAuth?(ns.dispatch("updateMessage",{message:a.data.message,status:"danger"}),e({path:"/login"})):e())}))}))},"5c0b":function(t,a,e){"use strict";e("9c0c")},"5c3f":function(t,a,e){t.exports=e.p+"img/heater.81bc4cca.jpg"},6542:function(t){t.exports=JSON.parse('[{"title":"S級紅白白軀水晶蝦","imageUrl":"https://cdn.pixabay.com/photo/2019/07/15/01/18/red-4338399__340.jpg","origin_price":"80","price":"60","id":"-MWrrSbIjtdDxHmLTgUt"},{"title":"鮮蝦食譜:孔雀&卵胎生魚","imageUrl":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618056684517.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=AqYoCoU79eek8Pdvu1XKLlUEnAMMvJejsiUPYvQijxPRS8gWMY4C2aDjacqqwxjKzIaHbWCPbdsXxxCgxqw%2BZFVMxCxQuTdtpOCNIowQXln341qaFFYXGTADQi%2B6cdhjZBkEH9QPCDpee8882kZy7v%2FpDz%2BiIXxchsIn0KZjsiu32lIC2DRRa9476xrFG5721CXzIHtnu5rlO%2ByFiD4qTFRAOdu0WLHYiz1UMGYgK7jmW6M8Mcvmc58OFlj57wAwpnkleb93IdYdHTgNutlnE9kP4OXkaVZNfPJ887TPZ6l57opf1ZmZ5TPiMAza7I98uTvb8mbPUYoBDlgr4ByhRw%3D%3D","origin_price":"250","price":"200","id":"-MXv11wuXGX3Xt5D_TT4"},{"title":"霓虹精靈孔雀","imageUrl":"https://cdn.pixabay.com/photo/2019/08/30/01/24/water-tank-4440190__340.jpg","origin_price":"100","price":"90","id":"-MWrqYAvAWuJFa0fUA7Z"}]')},"68f6":function(t,a,e){},7197:function(t,a,e){t.exports=e.p+"img/fertilizer.64522694.jpg"},"7c83":function(t){t.exports=JSON.parse('[{"title":"莫斯","imageUrl":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618065440125.PNG?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=THYCc8Vfql4F%2BOoAPIES9Equ4CC4iDhZRBsP%2BX8DCvzSFnqXYK2gxMfYSaNyOkuD3N9AxX4WXHdTwwyiy7A%2FAnCBoeL50p9qyXcnGJ113I%2FSD4TRO1dkP%2BEnH9HgDdAFwjM8b1LVZzMzdXRq6t3ikfzbov46vQKY5BZMknwXSd0UCd4zcSmc0ySSDWZ%2Fnv33OFOBhLydcmH%2BvfKoouYuzdaIp2%2FzuHfPmcJsetxq0uha4DYhLfOSmNOfTxLUbKCubGjNTy8HCyO2UphU637vukbmUuNDs65CrGGzdj%2Ffgu8p%2Fztz0r8HSgVDFXJUpx0VxsG1Ig%2Bc9HjQx7DKWdZxtw%3D%3D","origin_price":"80","price":"50","id":"-MXwDONL4HFRqnddwZGr"},{"title":"KOTOBUKI外掛式濾水器","imageUrl":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618057831049.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=P47bw3oHQ%2FNMH8%2BRDsypsTwxA34XKd02r%2F5vsYohZIP7gPxpMO%2FHRl%2F6sbTUTo5UQebtHr8fXuZ2iEuzd1hT6SKRfIxLPmb8MtyVVEiQoUZysiaI%2B8LokEx6UCEaqgxiK5zykeCecs8kSLBi0WCfiqVgd2rBUEgowrqhx7rETr6Fae7NzAjxMBk6HMztfro5Rjx66np0MhfEZvyKnUdHqFo2GJgNOsDLK9zKIE19aWDDcfkGLpxpjTf8dsAfqTV19gNaSXBdI07iYvTDD7YhHIKyTBAxh%2FVVG1BInCSEa57ZoxP8dFyWHnoagqGC00DEQ4g2Nq%2BSWiYk4KJMMO0XIQ%3D%3D","origin_price":"780","price":"700","id":"-MXv11ztSPDUEG7yXnvb"},{"title":"紅蓮燈","imageUrl":"https://cdn.pixabay.com/photo/2019/09/04/01/06/aquarium-4450489_960_720.jpg","origin_price":"30","price":"25","id":"-MWroof4JnypBDXA9g-O"}]')},"8dc2":function(t){t.exports=JSON.parse('[{"title":"彩裙魚(多種顏色)","imageUrl":"https://images.unsplash.com/photo-1599488615731-7e5c2823ff28?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTF8fGZpc2h8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60","origin_price":"50","price":"45","id":"-MYKvTLldDHdxBnmOvCf"},{"title":"小紅莓","imageUrl":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618814958076.PNG?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=XnjIak3c1qXX%2BPekkJeRce6eFS72CnG4R50Ur%2BiJIgLN8bSpsV7SdAimDsantspt4pgdhBXsLlEl%2BIPDL4uMKwLw1U5TpFT13aPZTEtS0zgP8e2XItvuKZClsczGfLdlYRF7fTvZD9f87g1XCPcDFy1opUs5QHXs0QTF7mqYyxKlpPifWMBHtoDz0NycGAwRQ%2BsABw6%2FlzdTG9nUf%2F7ReAOiP4LbpiVV7bitWOO7Uer0x87dtCbma9%2FnsR8U0NzSwCt0JLGWklAppz82OBYaAYRO43MgcQrXJjtGT1Sms6MNzTUYIu7pwvdvX%2FP%2FMkrS487elc79uD5LBOfCVNyBbA%3D%3D","origin_price":"30","price":"20","id":"-MXwDofidLOk-i0H8iWI"},{"title":"AZOO極濃縮.最強硝化活菌粉","imageUrl":"https://storage.googleapis.com/vue-course-api.appspot.com/happyaquarium%2F1618815525770.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Y28e5jXbxceA2gDwHNItmSSNaSVvyn7wd0DxkBN4QX2qh%2FRLKvtsQ1bXelT8YiiKy7G3Hf1IzVuls7VUZZS9r9obGIAJgUu6v%2FZNgTfVY%2BG8Udi32WqBT%2FSsiKXmfVTy8aRDdfsQQEQjIatAHET0LEmQPeIZRbezwzxYTe45uzBwaGFgY%2F5p%2F5XOI5KNOf7ZEtglGgW2ThivRcM45DhDmPUkMsHPpG5n6RmD7vz%2BfD%2BmWfq1o9ObE5Z03LKQjLEz1nqULPpbq8WfjCetnthR426rA9B%2BoUAQkUn9kUnN49jFX%2Br%2FGng7FPIZmDlyfULrF%2BDxD8jBSn9c6q5DMaUtng%3D%3D","origin_price":"400","price":"200","id":"-MXvzdQ_WKA_L9d-0ynF"}]')},"9c0c":function(t,a,e){},b1d9:function(t,a,e){},cb3a:function(t,a,e){"use strict";e("68f6")},d15f:function(t,a,e){t.exports=e.p+"img/banner1.6aa28431.jpg"}});
//# sourceMappingURL=app.454de146.js.map